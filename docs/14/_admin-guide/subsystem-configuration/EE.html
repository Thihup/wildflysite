<!DOCTYPE html>
<html>

<head>
  <script id="adobe_dtm" src="//www.redhat.com/dtm.js" type="text/javascript"></script>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <link rel="shortcut icon" type="image/png" href="/wildflysite/favicon.ico" >
  <link rel="stylesheet" href="/wildflysite/assets/css/main.css" />
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt" crossorigin="anonymous">
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-125236544-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
 
    gtag('config', 'UA-125236544-1');
  </script>


</head>

<body class="EE Subsystem Configuration">
  <div class="header-banner">
  <p>This site is in beta. Please share feedback by creating an <a href="https://github.com/jbossorg/wildflysite/issues/new" target="_blank">issue ticket</a>.</p>
</div>

  <div class="content">
    <div class="header navigation">
  <div class="logo-wrapper">
    <a href="/wildflysite/"><img class="wf-logo" src="/wildflysite/assets/img/wildfly_icons_one-color-logo.png"></a>
  </div>
  <div class="nav-container">
    <nav>
      <div class="nav-mobile"><a id="nav-toggle" href="#!"><span></span></a></div>
      <ul class="nav-list">
        <li>
          <a href="/wildflysite/" class="">Home</a>
        </li>
        <li>
          <a href="/wildflysite/downloads/" class="">Downloads</a>
        </li>
        <li>
          <a href="/wildflysite/blog/" class="">Blog</a>
        </li>
        <li>
          <a href="/wildflysite/about/" class="">About</a>
        </li>
        <li>
          <a href="/wildflysite/contribute/" class="">Contribute</a>
        </li>
        <li>
            <a href="https://docs.wildfly.org">Docs</a>
        </li>
        <li>
          <a class="button-cta secondary" href="https://github.com/wildfly/wildfly/fork" target="_blank">Fork</a>
        </li>
      </ul>
    </nav>
  </div>
</div>

    <div class="docs-page grid-wrapper">
  <div class="grid__item width-12-12 docs-v-icons">
    <a href="/wildflysite/docs/14/" ><img src="/wildflysite/assets/img/docs/wildfly_icons_docs-14-active.png"></a>
    <a href="/wildflysite/docs/13/" ><img src="/wildflysite/assets/img/docs/wildfly_icons_docs-13-inactive.png"></a>
    <a href="https://docs.wildfly.org/12/" target="_blank"><img src="/wildflysite/assets/img/docs/wildfly_icons_docs-12-inactive.png"></a>
    <img src="/wildflysite/assets/img/docs/wildfly_icons_docs-11-coming.png">
    <img src="/wildflysite/assets/img/docs/wildfly_icons_docs-10-coming.png">
    <img src="/wildflysite/assets/img/docs/wildfly_icons_docs-09-coming.png">
    <img src="/wildflysite/assets/img/docs/wildfly_icons_docs-08-coming.png">
  </div>
  <div class="grid__item width-12-12"><h1 class="title">EE Subsystem Configuration</h1></div>
  <div class="grid__item width-3-12 doc-toc"><ul class="inline_toc">
  <li><a href="#EE_Application_Deployment_Configuration">Java EE Application Deployment</a>
    <ul>
      <li><a href="#global-modules">Global Modules</a></li>
      <li><a href="#ear-subdeployments-isolation">EAR Subdeployments Isolation</a></li>
      <li><a href="#property-replacement">Property Replacement</a>
        <ul>
          <li><a href="#spec-descriptor-property-replacement">Spec Descriptor Property Replacement</a></li>
          <li><a href="#jboss-descriptor-property-replacement">JBoss Descriptor Property Replacement</a></li>
          <li><a href="#annotation-property-replacement">Annotation Property Replacement</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#EE_Concurrency_Utilities_Configuration">EE Concurrency Utilities</a>
    <ul>
      <li><a href="#context-services">Context Services</a></li>
      <li><a href="#managed-thread-factories">Managed Thread Factories</a></li>
      <li><a href="#managed-executor-services">Managed Executor Services</a></li>
      <li><a href="#managed-scheduled-executor-services">Managed Scheduled Executor Services</a></li>
    </ul>
  </li>
  <li><a href="#EE_Default_Bindings_Configuration">Default EE Bindings</a></li>
</ul></div>
  <div class="grid__item width-9-12 doc-content"><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>injection. The subsystem is also responsible for managing the lifecycle
of Java EE application&#8217;s deployments, that is, <code>.ear</code> files.</p>
</div>
<div class="paragraph">
<p>The EE subsystem configuration may be used to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>customise the deployment of Java EE applications</p>
</li>
<li>
<p>create EE Concurrency Utilities instances</p>
</li>
<li>
<p>define the default bindings</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The subsystem name is ee and this document covers EE subsystem version
<code>2.0</code>, which XML namespace within WildFly XML configurations is
<code>urn:jboss:domain:ee:2.0</code>. The path for the subsystem&#8217;s XML schema,
within WildFly&#8217;s distribution, is <code>docs/schema/jboss-as-ee_2_0.xsd</code>.</p>
</div>
<div class="paragraph">
<p>Subsystem XML configuration example with all elements and attributes
specified:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;subsystem xmlns="urn:jboss:domain:ee:2.0" &gt;
    &lt;global-modules&gt;
        &lt;module name="org.jboss.logging"
                slot="main"/&gt;
        &lt;module name="org.apache.log4j"
                annotations="true"
                meta-inf="true"
                services="false" /&gt;
    &lt;/global-modules&gt;
    &lt;ear-subdeployments-isolated&gt;true&lt;/ear-subdeployments-isolated&gt;
    &lt;spec-descriptor-property-replacement&gt;false&lt;/spec-descriptor-property-replacement&gt;
    &lt;jboss-descriptor-property-replacement&gt;false&lt;/jboss-descriptor-property-replacement&gt;
    &lt;annotation-property-replacement&gt;false&lt;/annotation-property-replacement&gt;
    &lt;concurrent&gt;
        &lt;context-services&gt;
            &lt;context-service
                    name="default"
                    jndi-name="java:jboss/ee/concurrency/context/default"
                    use-transaction-setup-provider="true" /&gt;
        &lt;/context-services&gt;
        &lt;managed-thread-factories&gt;
            &lt;managed-thread-factory
                    name="default"
                    jndi-name="java:jboss/ee/concurrency/factory/default"
                    context-service="default"
                    priority="1" /&gt;
        &lt;/managed-thread-factories&gt;
        &lt;managed-executor-services&gt;
            &lt;managed-executor-service
                    name="default"
                    jndi-name="java:jboss/ee/concurrency/executor/default"
                    context-service="default"
                    thread-factory="default"
                    hung-task-threshold="60000"
                    core-threads="5"
                    max-threads="25"
                    keepalive-time="5000"
                    queue-length="1000000"
                    reject-policy="RETRY_ABORT" /&gt;
        &lt;/managed-executor-services&gt;
        &lt;managed-scheduled-executor-services&gt;
            &lt;managed-scheduled-executor-service
                    name="default"
                    jndi-name="java:jboss/ee/concurrency/scheduler/default"
                    context-service="default"
                    thread-factory="default"
                    hung-task-threshold="60000"
                    core-threads="5"
                    keepalive-time="5000"
                    reject-policy="RETRY_ABORT" /&gt;
        &lt;/managed-scheduled-executor-services&gt;
    &lt;/concurrent&gt;
    &lt;default-bindings
            context-service="java:jboss/ee/concurrency/context/default"
            datasource="java:jboss/datasources/ExampleDS"
            jms-connection-factory="java:jboss/DefaultJMSConnectionFactory"
            managed-executor-service="java:jboss/ee/concurrency/executor/default"
            managed-scheduled-executor-service="java:jboss/ee/concurrency/scheduler/default"
            managed-thread-factory="java:jboss/ee/concurrency/factory/default" /&gt;
&lt;/subsystem&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="EE_Application_Deployment_Configuration">Java EE Application Deployment</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The EE subsystem configuration allows the customisation of the
deployment behaviour for Java EE Applications.</p>
</div>
<div class="sect2">
<h3 id="global-modules">Global Modules</h3>
<div class="paragraph">
<p>Global modules is a set of JBoss Modules that will be added as
dependencies to the JBoss Module of every Java EE deployment. Such
dependencies allows Java EE deployments to see the classes exported by
the global modules.</p>
</div>
<div class="paragraph">
<p>Each global module is defined through the <code>module</code> resource, an example
of its XML configuration:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">  &lt;global-modules&gt;
    &lt;module name="org.jboss.logging" slot="main"/&gt;
    &lt;module name="org.apache.log4j" annotations="true" meta-inf="true" services="false" /&gt;
  &lt;/global-modules&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The only mandatory attribute is the JBoss Module <code>name</code>, the <code>slot</code>
attribute defaults to <code>main</code>, and both define the JBoss Module ID to
reference.</p>
</div>
<div class="paragraph">
<p>The optional <code>annotations</code> attribute, which defaults to <code>false</code>,
indicates if a pre-computed annotation index should be imported from
META-INF/jandex.idx</p>
</div>
<div class="paragraph">
<p>The optional <code>services</code> attribute indicates if any services exposed in
META-INF/services should be made available to the deployments class
loader, and defaults to <code>false</code>.</p>
</div>
<div class="paragraph">
<p>The optional <code>meta-inf</code> attribute, which defaults to <code>true</code>, indicates
if the Module&#8217;s <code>META-INF</code> path should be available to the deployment&#8217;s
class loader.</p>
</div>
</div>
<div class="sect2">
<h3 id="ear-subdeployments-isolation">EAR Subdeployments Isolation</h3>
<div class="paragraph">
<p>A flag indicating whether each of the subdeployments within a <code>.ear</code> can
access classes belonging to another subdeployment within the same
<code>.ear</code>. The default value is <code>false</code>, which allows the subdeployments to
see classes belonging to other subdeployments within the <code>.ear</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">  &lt;ear-subdeployments-isolated&gt;true&lt;/ear-subdeployments-isolated&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>myapp.ear
|
|--- web.war
|
|--- ejb1.jar
|
|--- ejb2.jar</pre>
</div>
</div>
<div class="paragraph">
<p>If the <code>ear-subdeployments-isolated</code> is set to false, then the classes
in <code>web.war</code> can access classes belonging to <code>ejb1.jar</code> and <code>ejb2.jar</code>.
Similarly, classes from <code>ejb1.jar</code> can access classes from <code>ejb2.jar</code>
(and vice-versa).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
This flag has no effect on the isolated classloader of the <code>.war</code>
file(s), i.e. irrespective of whether this flag is set to <code>true</code> or
<code>false</code>, the <code>.war</code> within a <code>.ear</code> will have a isolated classloader,
and other subdeployments within that <code>.ear</code> will not be able to access
classes from that <code>.war</code>. This is as per spec.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="property-replacement">Property Replacement</h3>
<div class="paragraph">
<p>The EE subsystem configuration includes flags to configure whether
system property replacement will be done on XML descriptors and Java
Annotations included in Java EE deployments.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
System properties etc are resolved in the security context of the
application server itself, not the deployment that contains the file.
This means that if you are running with a security manager and enable
this property, a deployment can potentially access system properties or
environment entries that the security manager would have otherwise
prevented.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="spec-descriptor-property-replacement">Spec Descriptor Property Replacement</h4>
<div class="paragraph">
<p>Flag indicating whether system property replacement will be performed on
standard Java EE XML descriptors. If not configured this defaults to
<code>true</code>, however it is set to <code>false</code> in the standard configuration files
shipped with WildFly.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">  &lt;spec-descriptor-property-replacement&gt;false&lt;/spec-descriptor-property-replacement&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="jboss-descriptor-property-replacement">JBoss Descriptor Property Replacement</h4>
<div class="paragraph">
<p>Flag indicating whether system property replacement will be performed on
WildFly proprietary XML descriptors, such as <code>jboss-app.xml</code>. This
defaults to <code>true</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">  &lt;jboss-descriptor-property-replacement&gt;false&lt;/jboss-descriptor-property-replacement&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="annotation-property-replacement">Annotation Property Replacement</h4>
<div class="paragraph">
<p>Flag indicating whether system property replacement will be performed on
Java annotations. The default value is <code>false</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">  &lt;annotation-property-replacement&gt;false&lt;/annotation-property-replacement&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="EE_Concurrency_Utilities_Configuration">EE Concurrency Utilities</h2>
<div class="sectionbody">
<div class="paragraph">
<p>EE Concurrency Utilities (JSR 236) were introduced with Java EE 7, to
ease the task of writing multithreaded Java EE applications. Instances
of these utilities are managed by WildFly, and the related configuration
provided by the EE subsystem.</p>
</div>
<div class="sect2">
<h3 id="context-services">Context Services</h3>
<div class="paragraph">
<p>The Context Service is a concurrency utility which creates contextual
proxies from existent objects. WildFly Context Services are also used to
propagate the context from a Java EE application invocation thread, to
the threads internally used by the other EE Concurrency Utilities.
Context Service instances may be created using the subsystem XML
configuration:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">  &lt;context-services&gt;
    &lt;context-service
 name="default"
 jndi-name="java:jboss/ee/concurrency/context/default"
 use-transaction-setup-provider="true" /&gt;
  &lt;/context-services&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>name</code> attribute is mandatory, and it&#8217;s value should be a unique
name within all Context Services.</p>
</div>
<div class="paragraph">
<p>The <code>jndi-name</code> attribute is also mandatory, and defines where in the
JNDI the Context Service should be placed.</p>
</div>
<div class="paragraph">
<p>The optional <code>use-trasaction-setup-provider</code> attribute indicates if the
contextual proxies built by the Context Service should suspend
transactions in context, when invoking the proxy objects, and its value
defaults to true.</p>
</div>
<div class="paragraph">
<p>Management clients, such as the WildFly CLI, may also be used to
configure Context Service instances. An example to <code>add</code> and <code>remove</code>
one named <code>other</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">/subsystem=ee/context-service=other:add(jndi-name=java\:jboss\/ee\/concurrency\/other)
/subsystem=ee/context-service=other:remove</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="managed-thread-factories">Managed Thread Factories</h3>
<div class="paragraph">
<p>The Managed Thread Factory allows Java EE applications to create new
threads. WildFly Managed Thread Factory instances may also, optionally,
use a Context Service instance to propagate the Java EE application
thread&#8217;s context to the new threads. Instance creation is done through
the EE subsystem, by editing the subsystem XML configuration:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">  &lt;managed-thread-factories&gt;
    &lt;managed-thread-factory
 name="default"
 jndi-name="java:jboss/ee/concurrency/factory/default"
 context-service="default"
 priority="1" /&gt;
  &lt;/managed-thread-factories&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>name</code> attribute is mandatory, and it&#8217;s value should be a unique
name within all Managed Thread Factories.</p>
</div>
<div class="paragraph">
<p>The <code>jndi-name</code> attribute is also mandatory, and defines where in the
JNDI the Managed Thread Factory should be placed.</p>
</div>
<div class="paragraph">
<p>The optional <code>context-service</code> references an existent Context Service by
its <code>name</code>. If specified then thread created by the factory will
propagate the invocation context, present when creating the thread.</p>
</div>
<div class="paragraph">
<p>The optional <code>priority</code> indicates the priority for new threads created
by the factory, and defaults to <code>5</code>.</p>
</div>
<div class="paragraph">
<p>Management clients, such as the WildFly CLI, may also be used to
configure Managed Thread Factory instances. An example to <code>add</code> and
<code>remove</code> one named <code>other</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">/subsystem=ee/managed-thread-factory=other:add(jndi-name=java\:jboss\/ee\/factory\/other)
/subsystem=ee/managed-thread-factory=other:remove</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="managed-executor-services">Managed Executor Services</h3>
<div class="paragraph">
<p>The Managed Executor Service is the Java EE adaptation of Java SE
Executor Service, providing to Java EE applications the functionality of
asynchronous task execution. WildFly is responsible to manage the
lifecycle of Managed Executor Service instances, which are specified
through the EE subsystem XML configuration:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;managed-executor-services&gt;
    &lt;managed-executor-service
        name="default"
        jndi-name="java:jboss/ee/concurrency/executor/default"
        context-service="default"
        thread-factory="default"
        hung-task-threshold="60000"
        core-threads="5"
        max-threads="25"
        keepalive-time="5000"
        queue-length="1000000"
        reject-policy="RETRY_ABORT" /&gt;
&lt;/managed-executor-services&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>name</code> attribute is mandatory, and it&#8217;s value should be a unique
name within all Managed Executor Services.</p>
</div>
<div class="paragraph">
<p>The <code>jndi-name</code> attribute is also mandatory, and defines where in the
JNDI the Managed Executor Service should be placed.</p>
</div>
<div class="paragraph">
<p>The optional <code>context-service</code> references an existent Context Service by
its <code>name</code>. If specified then the referenced Context Service will
capture the invocation context present when submitting a task to the
executor, which will then be used when executing the task.</p>
</div>
<div class="paragraph">
<p>The optional <code>thread-factory</code> references an existent Managed Thread
Factory by its <code>name</code>, to handle the creation of internal threads. If
not specified then a Managed Thread Factory with default configuration
will be created and used internally.</p>
</div>
<div class="paragraph">
<p>The mandatory <code>core-threads</code> provides the number of threads to keep in
the executor&#8217;s pool, even if they are idle. A value of <code>0</code> means there
is no limit.</p>
</div>
<div class="paragraph">
<p>The optional <code>queue-length</code> indicates the number of tasks that can be
stored in the input queue. The default value is <code>0</code>, which means the
queue capacity is unlimited.</p>
</div>
<div class="paragraph">
<p>The executor&#8217;s task queue is based on the values of the attributes
<code>core-threads</code> and <code>queue-length</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If <code>queue-length</code> is <code>0</code>, or <code>queue-length</code> is
<code>Integer.MAX_VALUE (2147483647)</code> and <code>core-threads</code> is <code>0</code>, direct
handoff queuing strategy will be used and a synchronous queue will be
created.</p>
</li>
<li>
<p>If <code>queue-length</code> is <code>Integer.MAX_VALUE</code> but <code>core-threads</code> is not
<code>0</code>, an unbounded queue will be used.</p>
</li>
<li>
<p>For any other valid value for <code>queue-length</code>, a bounded queue wil be
created.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The optional <code>hung-task-threshold</code> defines a threshold value, in
milliseconds, to hung a possibly blocked task. A value of <code>0</code> will never
hung a task, and is the default.</p>
</div>
<div class="paragraph">
<p>The optional <code>long-running-tasks</code> is a hint to optimize the execution of
long running tasks, and defaults to <code>false</code>.</p>
</div>
<div class="paragraph">
<p>The optional <code>max-threads</code> defines the the maximum number of threads
used by the executor, which defaults to Integer.MAX_VALUE (2147483647).</p>
</div>
<div class="paragraph">
<p>The optional <code>keepalive-time</code> defines the time, in milliseconds, that an
internal thread may be idle. The attribute default value is <code>60000</code>.</p>
</div>
<div class="paragraph">
<p>The optional reject-policy defines the policy to use when a task is
rejected by the executor. The attribute value may be the default
<code>ABORT</code>, which means an exception should be thrown, or <code>RETRY_ABORT</code>,
which means the executor will try to submit it once more, before
throwing an exception.</p>
</div>
<div class="paragraph">
<p>Management clients, such as the WildFly CLI, may also be used to
configure Managed Executor Service instances. An example to <code>add</code> and
<code>remove</code> one named <code>other</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">/subsystem=ee/managed-executor-service=other:add(jndi-name=java\:jboss\/ee\/executor\/other, core-threads=2)
/subsystem=ee/managed-executor-service=other:remove</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="managed-scheduled-executor-services">Managed Scheduled Executor Services</h3>
<div class="paragraph">
<p>The Managed Scheduled Executor Service is the Java EE adaptation of Java
SE Scheduled Executor Service, providing to Java EE applications the
functionality of scheduling task execution. WildFly is responsible to
manage the lifecycle of Managed Scheduled Executor Service instances,
which are specified through the EE subsystem XML configuration:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;managed-scheduled-executor-services&gt;
    &lt;managed-scheduled-executor-service
        name="default"
        jndi-name="java:jboss/ee/concurrency/scheduler/default"
        context-service="default"
        thread-factory="default"
        hung-task-threshold="60000"
        core-threads="5"
        keepalive-time="5000"
        reject-policy="RETRY_ABORT" /&gt;
&lt;/managed-scheduled-executor-services&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>name</code> attribute is mandatory, and it&#8217;s value should be a unique
name within all Managed Scheduled Executor Services.</p>
</div>
<div class="paragraph">
<p>The <code>jndi-name</code> attribute is also mandatory, and defines where in the
JNDI the Managed Scheduled Executor Service should be placed.</p>
</div>
<div class="paragraph">
<p>The optional <code>context-service</code> references an existent Context Service by
its <code>name</code>. If specified then the referenced Context Service will
capture the invocation context present when submitting a task to the
executor, which will then be used when executing the task.</p>
</div>
<div class="paragraph">
<p>The optional <code>thread-factory</code> references an existent Managed Thread
Factory by its <code>name</code>, to handle the creation of internal threads. If
not specified then a Managed Thread Factory with default configuration
will be created and used internally.</p>
</div>
<div class="paragraph">
<p>The mandatory <code>core-threads</code> provides the number of threads to keep in
the executor&#8217;s pool, even if they are idle. A value of <code>0</code> means there
is no limit.</p>
</div>
<div class="paragraph">
<p>The optional <code>hung-task-threshold</code> defines a threshold value, in
milliseconds, to hung a possibly blocked task. A value of <code>0</code> will never
hung a task, and is the default.</p>
</div>
<div class="paragraph">
<p>The optional <code>long-running-tasks</code> is a hint to optimize the execution of
long running tasks, and defaults to <code>false</code>.</p>
</div>
<div class="paragraph">
<p>The optional <code>keepalive-time</code> defines the time, in milliseconds, that an
internal thread may be idle. The attribute default value is <code>60000</code>.</p>
</div>
<div class="paragraph">
<p>The optional reject-policy defines the policy to use when a task is
rejected by the executor. The attribute value may be the default
<code>ABORT</code>, which means an exception should be thrown, or <code>RETRY_ABORT</code>,
which means the executor will try to submit it once more, before
throwing an exception.</p>
</div>
<div class="paragraph">
<p>Management clients, such as the WildFly CLI, may also be used to
configure Managed Scheduled Executor Service instances. An example to
<code>add</code> and <code>remove</code> one named <code>other</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">/subsystem=ee/managed-scheduled-executor-service=other:add(jndi-name=java\:jboss\/ee\/scheduler\/other, core-threads=2)
/subsystem=ee/managed-scheduled-executor-service=other:remove</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="EE_Default_Bindings_Configuration">Default EE Bindings</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Java EE Specification mandates the existence of a default instance
for each of the following resources:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Context Service</p>
</li>
<li>
<p>Datasource</p>
</li>
<li>
<p>JMS Connection Factory</p>
</li>
<li>
<p>Managed Executor Service</p>
</li>
<li>
<p>Managed Scheduled Executor Service</p>
</li>
<li>
<p>Managed Thread Factory</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The EE subsystem looks up the default instances from JNDI, using the
names in the default bindings configuration, before placing those in the
standard JNDI names, such as <code>java:comp/DefaultManagedExecutorService</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">  &lt;default-bindings
 context-service="java:jboss/ee/concurrency/context/default"
 datasource="java:jboss/datasources/ExampleDS"
 jms-connection-factory="java:jboss/DefaultJMSConnectionFactory"
 managed-executor-service="java:jboss/ee/concurrency/executor/default"
 managed-scheduled-executor-service="java:jboss/ee/concurrency/scheduler/default"
 managed-thread-factory="java:jboss/ee/concurrency/factory/default" /&gt;</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The default bindings are optional, if the jndi name for a default
binding is not configured then the related resource will not be
available to Java EE applications.
</td>
</tr>
</table>
</div>
</div>
</div></div>
</div>



  </div>

  <div class="content project-footer">
  <div class="footer-section">
    <div class="logo-wrapper">
      <a href="/wildflysite/"><img class="wf-logo" src="/wildflysite/assets/img/wildfly_icons_one-color-logo.png"></a>
    </div>
  </div>
  <div class="grid-wrapper">
    <p class="grid__item width-3-12">WildFly is open. All dependencies of this project are available under the <a href='https://www.gnu.org/licenses/old-licenses/lgpl-2.1.en.html' target='_blank'>LGPL 2.1</a> or compatible license.<br/><br/>This website was built with <a href='https://jekyllrb.com/' target='_blank'>Jekyll</a> is hosted on <a href='https://pages.github.com/' target='_blank'>Github Pages</a> and is completely open source. If you want to make it better, <a href='https://github.com/wildfly/wildfly.org/fork' target='_blank'>fork it</a> and show us what youâ€™ve got.</p>

    
      <div class="width-1-12 project-links">
        <strong>Navigation</strong>
        <ul class="footer-links width-1-12">
          
            <li><a href="/wildflysite/downloads">Downloads</a></li>
          
            <li><a href="/wildflysitef/docs">Docs</a></li>
          
            <li><a href="https://github.com/wildfly/wildfly">Github</a></li>
          
        </ul>
      </div>
    
      <div class="width-1-12 project-links">
        <strong>Contribute</strong>
        <ul class="footer-links width-1-12">
          
            <li><a href="https://issues.jboss.org/browse/WFLY">Submit a bug</a></li>
          
            <li><a href="https://community.jboss.org/en/wildfly?view=discussion">Join the forum</a></li>
          
            <li><a href="https://github.com/wildfly/wildfly/fork">Fork WildFly</a></li>
          
            <li><a href="https://twitter.com/WildFlyAS">Follow us</a></li>
          
        </ul>
      </div>
    
      <div class="width-1-12 project-links">
        <strong>Get Help</strong>
        <ul class="footer-links width-1-12">
          
            <li><a href="https://community.jboss.org/en/wildfly?view=discussion">Join the forum</a></li>
          
            <li><a href="https://www.hipchat.com/gFOhnVQke">Join HipChat</a></li>
          
        </ul>
      </div>
    

    
      <div class="width-6-12 more-links">
        <strong>Find more Red Hat Middleware Community Projects</strong>
        <ul class="footer-links">
          
            <li><a href="https://www.apiman.io/">APIMan</a></li>
          
            <li><a href="http://arquillian.org">Arquillian</a></li>
          
            <li><a href="http://byteman.jboss.org/">Byteman</a></li>
          
            <li><a href="http://capedwarf.org/">CapeDwarf</a></li>
          
            <li><a href="https://github.com/alechenninger/chronicler">Chronicler</a></li>
          
            <li><a href="https://github.com/darcy-framework">Darcy</a></li>
          
            <li><a href="http://debezium.io/">Debezium</a></li>
          
            <li><a href="https://www.drools.org/">Drools</a></li>
          
            <li><a href="http://gatein.jboss.org/">GateIn</a></li>
          
            <li><a href="http://www.hawkular.org/">Hawkular</a></li>
          
            <li><a href="http://hawt.io/">Hawtio</a></li>
          
            <li><a href="http://hibernate.org/">Hibernate</a></li>
          
            <li><a href="http://www.infinispan.org/">Infinispan</a></li>
          
            <li><a href="https://devstudio.jboss.com/">JBoss DevStudio</a></li>
          
            <li><a href="http://forge.jboss.org/">JBoss Forge</a></li>
          
            <li><a href="https://github.com/jboss-logging">JBoss Logging</a></li>
          
            <li><a href="http://jbossremoting.jboss.org/">JBoss Remoting</a></li>
          
            <li><a href="https://www.jbpm.org/">jBPM</a></li>
          
            <li><a href="https://jsfunit.jboss.org/">JSFUnit</a></li>
          
            <li><a href="https://www.keycloak.org/">Keycloak</a></li>
          
            <li><a href="http://modcluster.io/">Mod Cluster</a></li>
          
            <li><a href="http://modeshape.jboss.org/">ModeShape</a></li>
          
            <li><a href="https://www.optaplanner.org/">OptaPlanner</a></li>
          
            <li><a href="https://picketbox.jboss.org/">Picketbox</a></li>
          
            <li><a href="http://resteasy.jboss.org/">RESTEasy</a></li>
          
            <li><a href="https://riftsaw.jboss.org/">Riftsaw</a></li>
          
            <li><a href="http://savara.jboss.org/">Savara</a></li>
          
            <li><a href="http://seamframework.org/">Seam</a></li>
          
            <li><a href="http://arquillian.org/">Shrinkwrap</a></li>
          
            <li><a href="http://snowdrop.jboss.org/">Snowdrop</a></li>
          
            <li><a href="https://switchyard.jboss.org/">Switchyard</a></li>
          
            <li><a href="https://tattletale.jboss.org/">Tattletale</a></li>
          
            <li><a href="http://teiid.jboss.org/">Teiid</a></li>
          
            <li><a href="http://wildfly-swarm.io/">WildFly Swarm</a></li>
          
            <li><a href="http://wise.jboss.org/">Wise</a></li>
          
            <li><a href="https://xnio.jboss.org/">XNIO</a></li>
          
        </ul>
      </div>
    
  </div>
</div>
  <div class="content redhat-footer">
  <div class="grid-wrapper">
    <span class="licence">
      <i class="fab fa-creative-commons"></i><i class="fab fa-creative-commons-by"></i> <a href="https://creativecommons.org/licenses/by/3.0/" target="_blank">CC by 3.0</a>
    </span>
    <span class="redhat">
      a Red Hat sponsored project   
    </span>
    <span class="redhat-logo">
      <a href="https://www.redhat.com/"><img src="/wildflysite/assets/img/RHLogo_white.svg"></a>
    </span>
  </div>
</div>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
  <script type="text/javascript" src="/wildflysite/assets/javascript/mobile-nav.js"></script>
  <script type="text/javascript" src="/wildflysite/assets/javascript/random-color-picker.js"></script>
  <script type="text/javascript">
    if (("undefined" !== typeof _satellite) && ("function" === typeof _satellite.pageBottom)) {
        _satellite.pageBottom();
    }
  </script>
</body>

</html>
