<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="description" content="">
  <link rel="shortcut icon" type="image/png" href="/wildflysite/favicon.ico" >
  <link rel="stylesheet" href="/wildflysite/assets/css/main.css" />
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt" crossorigin="anonymous">


</head>

<body class="Command Line Interface">
  <div class="content">
    <div class="header navigation">
  <div class="logo-wrapper">
    <a href="/wildflysite/"><img class="wf-logo" src="/wildflysite/assets/img/wildfly_icons_one-color-logo.png"></a>
  </div>
  <div class="nav-container">
    <nav>
      <div class="nav-mobile"><a id="nav-toggle" href="#!"><span></span></a></div>
      <ul class="nav-list">
        <li>
          <a href="/wildflysite/" class="">Home</a>
        </li>
        <li>
          <a href="/wildflysite/downloads/" class="">Downloads</a>
        </li>
        <li>
          <a href="/wildflysite/blog/" class="">Blog</a>
        </li>
        <li>
          <a href="/wildflysite/about/" class="">About</a>
        </li>
        <li>
          <a href="/wildflysite/contribute/" class="">Contribute</a>
        </li>
        <li>
          
            <a href="/wildflysite/docs/14/" class="active">Docs</a>
          
        </li>
        <li>
          <a class="button-cta secondary" href="https://github.com/wildfly/wildfly/fork" target="_blank">Fork</a>
        </li>
      </ul>
    </nav>
  </div>
</div>

    <div class="docs-page grid-wrapper">
  <div class="grid__item width-12-12 docs-v-icons">
    <a href="/wildflysite/docs/13/" ><img src="/wildflysite/assets/img/docs/wildfly_icons_docs-13-inactive.png"></a>
    <a href="https://docs.wildfly.org/12/" target="_blank"><img src="/wildflysite/assets/img/docs/wildfly_icons_docs-12-inactive.png"></a>
    <img src="/wildflysite/assets/img/docs/wildfly_icons_docs-11-coming.png">
    <img src="/wildflysite/assets/img/docs/wildfly_icons_docs-10-coming.png">
    <img src="/wildflysite/assets/img/docs/wildfly_icons_docs-09-coming.png">
    <img src="/wildflysite/assets/img/docs/wildfly_icons_docs-08-coming.png">
  </div>
  <div class="grid__item width-12-12"><h1 class="title">Command Line Interface</h1></div>
  <div class="grid__item width-3-12 doc-toc"><ul class="inline_toc">
  <li><a href="#running-the-cli">Running the CLI</a></li>
  <li><a href="#cli-keyboard-navigation">Keyboard navigation</a>
    <ul>
      <li><a href="#go-left-back-one-word">Go left (back) one word</a></li>
      <li><a href="#go-right-forward-one-word">Go right (forward) one word</a></li>
      <li><a href="#go-to-the-beginning-of-the-line">Go to the beginning of the line</a></li>
      <li><a href="#go-to-the-end-of-the-line">Go to the end of the line</a></li>
      <li><a href="#go-left-back-one-character">Go left (back) one character</a></li>
      <li><a href="#go-right-forward-one-character">Go right (forward) one character</a></li>
    </ul>
  </li>
  <li><a href="#cli-non-interactive-mode">Non-interactive Mode</a></li>
  <li><a href="#command-timeout">Command timeout</a>
    <ul>
      <li><a href="#command-timeout-behavior">Command Timeout behavior</a></li>
      <li><a href="#configuring-the-command-timeout">Configuring the Command timeout</a></li>
      <li><a href="#managing-the-command-timeout">Managing the Command Timeout</a></li>
      <li><a href="#retrieving-the-command-timeout">Retrieving the command timeout</a></li>
      <li><a href="#setting-the-command-timeout">Setting the command timeout</a></li>
      <li><a href="#resetting-the-command-timeout">Resetting the command timeout</a></li>
    </ul>
  </li>
  <li><a href="#default-native-management-interface-security">Default Native Management Interface Security</a></li>
  <li><a href="#operation-requests">Operation Requests</a>
    <ul>
      <li><a href="#addressing-resources">Addressing resources</a></li>
      <li><a href="#available-operation-types-and-descriptions">Available Operation Types and Descriptions</a></li>
    </ul>
  </li>
  <li><a href="#command-history">Command History</a></li>
  <li><a href="#json-and-dmr-output">JSON and DMR output</a></li>
  <li><a href="#color-output">Color output</a></li>
  <li><a href="#paging-output">Paging and searching output</a></li>
  <li><a href="#batch-processing">Batch Processing</a></li>
  <li><a href="#operators">Operators</a></li>
</ul></div>
  <div class="grid__item width-9-12 doc-content"><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The Command Line Interface (CLI) is a management tool for a managed
domain or standalone server. It allows a user to connect to the domain
controller or a standalone server and execute management operations
available through the de-typed management model.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="running-the-cli">Running the CLI</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Depending on the operating system, the CLI is launched using
<code>jboss-cli.sh</code> or <code>jboss-cli.bat</code> located in the WildFly <code>bin</code>
directory. For further information on the default directory structure,
please consult the " <a href="Getting_Started_Guide.html">Getting Started
Guide</a>".</p>
</div>
<div class="paragraph">
<p>The first thing to do after the CLI has started is to connect to a
managed WildFly instance. This is done using the command <em>connect</em>, e.g.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">./bin/jboss-cli.sh
You are disconnected at the moment. Type 'connect' to connect to the server
or 'help' for the list of supported commands.
[disconnected /]
 
[disconnected /] connect
[domain@localhost:9990 /]
 
[domain@localhost:9990 /] quit
Closed connection to localhost:9990</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>localhost:9990</code> is the default host and port combination for the
WildFly CLI client.</p>
</div>
<div class="paragraph">
<p>The host and the port of the server can be provided as an optional
parameter, if the server is not listening on localhost:9990.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">./bin/jboss-cli.sh
You are disconnected at the moment. Type 'connect' to connect to the server
[disconnected /] connect 192.168.0.10:9990
Connected to standalone controller at 192.168.0.1:9990</code></pre>
</div>
</div>
<div class="paragraph">
<p>The :9990 is not required as the CLI will use port 9990 by default. The
port needs to be provided if the server is listening on some other port.</p>
</div>
<div class="paragraph">
<p>To terminate the session type <em>quit</em>.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
The jboss-cli script accepts a --connect parameter: ./jboss-cli.sh
--connect
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The --controller parameter can be used to specify the host and port of
the server: ./jboss-cli.sh --connect --controller=192.168.0.1:9990</p>
</div>
<div class="paragraph">
<p>Help is also available:</p>
</div>
<div class="paragraph">
<p>In order to list the set of commands that are currently available in the current context
use the option <em>--commands</em> (NB: the following examples are not displaying an
exhaustive set of CLI commands, more and/or different commands could be available
in your running CLI instance):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">[domain@localhost:9990 /] help --commands
Commands available in the current context:
batch               connection-factory  deployment-overlay  if                  patch               reload              try
cd                  connection-info     echo                jdbc-driver-info    pwd                 rollout-plan        undeploy
clear               data-source         echo-dmr            jms-queue           quit                run-batch           unset
command             deploy              help                jms-topic           read-attribute      set                 version
connect             deployment-info     history             ls                  read-operation      shutdown            xa-data-source
To read a description of a specific command execute 'help &lt;command name&gt;'.</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <em>help</em> command can print help for any command or operation. For operations,
the operation description is formatted as a command help (synopsis, description and
options). Some commands (eg: <em>patch</em>) expose two levels of documentation. A high
level description for the command itself and a dedicated help content for each action (eg: <em>apply</em>).
The help documentation of each command makes it clear if this two levels are available or not.</p>
</div>
<div class="paragraph">
<p>Use Tab-completion to discover the set of commands and operations:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">help &lt;TAB&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The list of all commands (enabled or not) is displayed.</p>
</div>
<div class="paragraph">
<p>Examples</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Display the help of the <em>patch</em> command:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">help patch</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Display the help of the <em>apply</em> action of the <em>patch</em> command:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">help patch apply</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Display the description of the <em>elytron</em> <em>key-store</em> resource <em>add</em> operation
formatted as a command help content:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">help /subsystem=elytron/key-store=?:add</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="cli-keyboard-navigation">Keyboard navigation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In order to efficiently edit commands, the CLI allows you to navigate the words
 and characters of a command using the keyboard.</p>
</div>
<div class="paragraph">
<p>NB: Part of this navigation is platform dependent.</p>
</div>
<div class="sect2">
<h3 id="go-left-back-one-word">Go left (back) one word</h3>
<div class="ulist">
<ul>
<li>
<p><em>Alt+B</em> : Linux, Solaris, HP-UX, Windows.</p>
</li>
<li>
<p><em>Ctrl+LeftArrow</em>: Linux, Solaris, HP-UX.</p>
</li>
<li>
<p><em>Alt+LeftArrow</em>: Mac OSX.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="go-right-forward-one-word">Go right (forward) one word</h3>
<div class="ulist">
<ul>
<li>
<p><em>Alt+F</em> : Linux, Solaris, HP-UX, Windows.</p>
</li>
<li>
<p><em>Ctrl+RightArrow</em>: Linux, Solaris, HP-UX.</p>
</li>
<li>
<p><em>Alt+RightArrow</em>: Mac OSX.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="go-to-the-beginning-of-the-line">Go to the beginning of the line</h3>
<div class="ulist">
<ul>
<li>
<p><em>Ctrl+A</em>: All supported platforms.</p>
</li>
<li>
<p><em>HOME</em>:  Linux, Solaris, HP-UX, Windows</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="go-to-the-end-of-the-line">Go to the end of the line</h3>
<div class="ulist">
<ul>
<li>
<p><em>Ctrl+E</em>: All supported platforms.</p>
</li>
<li>
<p><em>END</em>: Linux, Solaris, HP-UX, Windows</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="go-left-back-one-character">Go left (back) one character</h3>
<div class="ulist">
<ul>
<li>
<p><em>Ctrl+B</em> or <em>LeftArrow</em>: All supported platforms.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="go-right-forward-one-character">Go right (forward) one character</h3>
<div class="ulist">
<ul>
<li>
<p><em>Ctrl+F</em> or <em>RightArrow</em>: All supported platforms.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="cli-non-interactive-mode">Non-interactive Mode</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The CLI can also be run in non-interactive mode to support scripts and
other types of command line or batch processing. The --command and
--commands arguments can be used to pass a command or a list of commands
to execute. Additionally a --file argument is supported which enables
CLI commands to be provided from a text file.</p>
</div>
<div class="paragraph">
<p>For example the following command can be used to list all the current
deployments</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ ./bin/jboss-cli.sh --connect --commands=ls\ deployment
sample.war
business.jar</code></pre>
</div>
</div>
<div class="paragraph">
<p>The output can be combined with other shell commands for further
processing, for example to find out what .war files are deployed:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ ./bin/jboss-cli.sh --connect --commands=ls\ deployment | grep war
sample.war</code></pre>
</div>
</div>
<div class="paragraph">
<p>In order to match a command with its output, you can provide the option
--echo-command (or add the XML element &lt;echo-command&gt; to the CLI
configuration file) in order to make the CLI to include the prompt<br>
command + options in the output. With this option enabled, any executed
command will be added to the output.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="command-timeout">Command timeout</h2>
<div class="sectionbody">
<div class="paragraph">
<p>By default CLI command and operation executions are not timely bounded.
It means that a command never ending its execution will make the CLI
process to be stuck and unresponsive. To protect the CLI from this
behavior, one can set a command execution timeout.</p>
</div>
<div class="sect2">
<h3 id="command-timeout-behavior">Command Timeout behavior</h3>
<div class="paragraph">
<p>In interactive mode, when a timeout occurs, an error message is
displayed then the console prompt is made available to type new
commands. In non interactive mode (executing a script or a list of
commands), when a timeout occurs, an exception is thrown and the CLI
execution is stopped. In both modes (interactive and non interactive),
when a timeout occurs, the CLI will make a best effort to cancel the
associated server side activities.</p>
</div>
</div>
<div class="sect2">
<h3 id="configuring-the-command-timeout">Configuring the Command timeout</h3>
<div class="ulist">
<ul>
<li>
<p>Add the XML element <em>&lt;command-timeout&gt;\{num
seconds}&lt;/command-timeout&gt;</em> to the CLI XML configuration file.</p>
</li>
<li>
<p>Add the option - <em>-command-timeout=\{num seconds}</em> to the CLI command
line. This will override any value set in the XML configuration file.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="managing-the-command-timeout">Managing the Command Timeout</h3>
<div class="paragraph">
<p>Once the CLI is running, the timeout can be adjusted to cope with the
commands to execute. For example a batch command will need a longer
timeout than a non batch one. The command <em>command-timeout</em> allows to
get, set and reset the command timeout.</p>
</div>
</div>
<div class="sect2">
<h3 id="retrieving-the-command-timeout">Retrieving the command timeout</h3>
<div class="paragraph">
<p>The command <em>command-timeout get</em> displays the current timeout in
seconds. A timeout of 0 means no timeout.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">[standalone@localhost:9990 /] command-timeout get
0</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="setting-the-command-timeout">Setting the command timeout</h3>
<div class="paragraph">
<p>The command <em>command-timeout set</em> update the timeout value to a number
of seconds. If a timeout has been set via configuration (XML file or
option), it is overridden by the <em>set</em> action.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">[standalone@localhost:9990 /] command-timeout set 10</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="resetting-the-command-timeout">Resetting the command timeout</h3>
<div class="paragraph">
<p>The command <em>command-timeout reset \{config|default}</em> allows to set the
timeout to its configuration value (XML file or option) or default value
(0 second). If no configuration value is set, resetting to the
configuration value sets the timeout to its default value (0 seconds).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">[standalone@localhost:9990 /] command-timeout reset config
[standalone@localhost:9990 /] command-timeout reset default</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="default-native-management-interface-security">Default Native Management Interface Security</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The native interface shares the same security configuration as the http
interface, however we also support a local authentication mechanism
which means that the CLI can authenticate against the local WildFly
instance without prompting the user for a username and password. This
mechanism only works if the user running the CLI has read access to the
standalone/tmp/auth folder or domain/tmp/auth folder under the
respective WildFly installation - if the local mechanism fails then the
CLI will fallback to prompting for a username and password for a user
configured as in <a href="#Default_HTTP_Interface_Security">Default HTTP Interface Security</a>.</p>
</div>
<div class="paragraph">
<p>Establishing a CLI connection to a remote server will require a username
and password by default.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="operation-requests">Operation Requests</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Operation requests allow for low level interaction with the management
model. They are different from the high level commands (i.e.
<em>create-jms-queue</em>) in that they allow you to read and modify the server
configuration as if you were editing the XML configuration files
directly. The configuration is represented as a tree of addressable
resources, where each node in the tree (aka resource) offers a set of
operations to execute.</p>
</div>
<div class="paragraph">
<p>An operation request basically consists of three parts: The <em>address</em>,
an <em>operation name</em> and an optional set of <em>parameters</em>.</p>
</div>
<div class="paragraph">
<p>The formal specification for an operation request is:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>[/node-type=node-name (/node-type=node-name)*] : operation-name [( [parameter-name=parameter-value (,parameter-name=parameter-value)*] )]</pre>
</div>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">/subsystem=logging/root-logger=ROOT:change-root-log-level(level=WARN)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Tab Completion</p>
</div>
<div class="paragraph">
<p>Tab-completion is supported for all commands and options, i.e.
node-types and node-names, operation names and parameter names.</p>
</div>
<div class="paragraph">
<p>In operation Tab-completion, required parameters have a name terminated by the
'*' character. This helps identify which are the parameters that must be set in order to
construct a valid operation. Furthermore, Tab-completion does not propose
parameters that are alternatives of parameters already present in the operation.</p>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">/deployment=myapp:add(&lt;TAB&gt;
!  content*  enabled  runtime-name</code></pre>
</div>
</div>
<div class="paragraph">
<p>The parameter <em>content</em> is required and completion advertises it with a '*' character.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">/deployment=myapp:add-content(content=[{&lt;TAB&gt;
bytes*  hash*  input-stream-index*  target-path*  url*</code></pre>
</div>
</div>
<div class="paragraph">
<p><em>bytes</em>, <em>hash</em>, <em>input-stream-index</em> and <em>url</em> are required but also alternatives
(only one of them can be set). As soon as one of these parameter has been set, the
others are no longer proposed by completion.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">/deployment=myapp:add-content(content=[{url=myurl,&lt;TAB&gt;
/deployment=myapp:add-content(content=[{url=myurl,target-path</code></pre>
</div>
</div>
<div class="paragraph">
<p><em>target-path</em> argument is automatically inlined in the command.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
We are also considering adding aliases that are less verbose for the user, and
will translate into the corresponding operation requests in the
background.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Whitespaces between the separators in the operation request strings are
not significant.</p>
</div>
<div class="sect2">
<h3 id="addressing-resources">Addressing resources</h3>
<div class="paragraph">
<p>Operation requests might not always have the address part or the
parameters. E.g.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">:read-resource</code></pre>
</div>
</div>
<div class="paragraph">
<p>which will list all the node types for the current node.</p>
</div>
<div class="paragraph">
<p>To syntactically disambiguate between the commands and operations,
operations require one of the following prefixes:</p>
</div>
<div class="paragraph">
<p>To execute an operation against the current node, e.g.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">cd subsystem=logging
:read-resource(recursive="true")</code></pre>
</div>
</div>
<div class="paragraph">
<p>To execute an operation against a child node of the current node, e.g.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">cd subsystem=logging
./root-logger=ROOT:change-root-log-level(level=WARN)</code></pre>
</div>
</div>
<div class="paragraph">
<p>To execute an operation against the root node, e.g.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">/:read-resource</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="available-operation-types-and-descriptions">Available Operation Types and Descriptions</h3>
<div class="paragraph">
<p>The operation types can be distinguished between common operations that
exist on any node and specific operations that belong to a particular
configuration resource (i.e. subsystem). The common operations are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>add</p>
</li>
<li>
<p>read-attribute</p>
</li>
<li>
<p>read-children-names</p>
</li>
<li>
<p>read-children-resources</p>
</li>
<li>
<p>read-children-types</p>
</li>
<li>
<p>read-operation-description</p>
</li>
<li>
<p>read-operation-names</p>
</li>
<li>
<p>read-resource</p>
</li>
<li>
<p>read-resource-description</p>
</li>
<li>
<p>remove</p>
</li>
<li>
<p>validate-address</p>
</li>
<li>
<p>write-attribute</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For a list of specific operations (e.g. operations that relate to the
logging subsystem) you can always query the model itself. For example,
to read the operations supported by the logging subsystem resource on a
standalone server:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">[[standalone@localhost:9990 /] /subsystem=logging:read-operation-names
{
   "outcome" =&gt; "success",
   "result" =&gt; [
       "add",
       "change-root-log-level",
       "read-attribute",
       "read-children-names",
       "read-children-resources",
       "read-children-types",
       "read-operation-description",
       "read-operation-names",
       "read-resource",
       "read-resource-description",
       "remove-root-logger",
       "root-logger-assign-handler",
       "root-logger-unassign-handler",
       "set-root-logger",
       "validate-address",
       "write-attribute"
   ]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can see, the logging resource offers four additional operations,
namely <em>root-logger-assign-handler</em>, <em>root-logger-unassign-handler</em>,
<em>set-root-logger</em> and <em>remove-root-logger</em>.</p>
</div>
<div class="paragraph">
<p>Further documentation about a resource or operation can be retrieved
through the description:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">[standalone@localhost:9990 /] /subsystem=logging:read-operation-description(name=change-root-log-level)
{
   "outcome" =&gt; "success",
   "result" =&gt; {
       "operation-name" =&gt; "change-root-log-level",
       "description" =&gt; "Change the root logger level.",
       "request-properties" =&gt; {"level" =&gt; {
           "type" =&gt; STRING,
           "description" =&gt; "The log level specifying which message levels will be logged by this logger.
                            Message levels lower than this value will be discarded.",
           "required" =&gt; true
       }}
   }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Full model</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
To see the full model enter <code>:read-resource(recursive=true)</code>.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="command-history">Command History</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Command (and operation request) history is enabled by default. The
history is kept both in-memory and in a file on the disk, i.e. it is
preserved between command line sessions. The history file name is
.jboss-cli-history and is automatically created in the user&#8217;s home
directory. When the command line interface is launched this file is read
and the in-memory history is initialized with its content.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
While in the command line session, you can use the arrow keys to go back
and forth in the history of commands and operations.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To manipulate the history you can use the <em>history</em> command. If executed
without any arguments, it will print all the recorded commands and
operations (up to the configured maximum, which defaults to 500) from
the in-memory history.</p>
</div>
<div class="paragraph">
<p><em>history</em> supports three optional arguments:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>disable</em> - will disable history expansion (but will not clear the
previously recorded history);</p>
</li>
<li>
<p><em>enabled</em> - will re-enable history expansion (starting from the last
recorded command before the history expansion was disabled);</p>
</li>
<li>
<p><em>clear</em> - will clear the in-memory history (but not the file one).</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="json-and-dmr-output">JSON and DMR output</h2>
<div class="sectionbody">
<div class="paragraph">
<p>By default the CLI prints operation results using the DMR textual syntax. There are
two ways to make the CLI to display JSON:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>--output-json</em> option when launching the CLI.</p>
</li>
<li>
<p><em>&lt;output-json&gt;</em> XML element added to <em>jboss-cli.xml</em> configuration file.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="color-output">Color output</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The CLI outputs results of commands and the prompt in color. To disable this, there are two possible ways to disable it:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>--no-color-output</em> will disable color output;</p>
</li>
<li>
<p>Change <em>&lt;enabled&gt;</em> to <code>false</code> in <code>jboss-cli.xml</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <em>&lt;color-output&gt;</em> block is  used to configure the  colors of the six basic elements that do support it</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Output messages: error, warning and success;</p>
</li>
<li>
<p>Required configuration options when using the auto-complete functionality;</p>
</li>
<li>
<p>The color of the default prompt;</p>
</li>
<li>
<p>The color of the prompt when using <code>batch</code> and any of the workflow commands, <code>if</code>, <code>for</code> and <code>try</code>.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;color-output&gt;
    &lt;enabled&gt;true&lt;/enabled&gt;
    &lt;error-color&gt;red&lt;/error-color&gt;
    &lt;warn-color&gt;yellow&lt;/warn-color&gt;
    &lt;success-color&gt;default&lt;/success-color&gt;
    &lt;required-color&gt;magenta&lt;/required-color&gt;
    &lt;workflow-color&gt;green&lt;/workflow-color&gt;
    &lt;prompt-color&gt;blue&lt;/prompt-color&gt;
&lt;/color-output&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>There are eight available colors:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Black</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Magenta</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Blue</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Red</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cyan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">White</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Green</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yellow</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>There is also the possibility of using the <em>default</em> color, which is the terminal&#8217;s configured foreground color.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="paging-output">Paging and searching output</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In interactive mode, when the content to display is longer than the terminal
 height, the content is paged. You can navigate the content by using the following
 keys and mouse events:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>space or PAGE_DOWN: scroll the content one page down.</p>
</li>
<li>
<p>'\' or PAGE_UP: scroll the content one page up.</p>
</li>
<li>
<p>';' or up arrow or mouse wheel up: scroll the content one line up.</p>
</li>
<li>
<p>ENTER or down arrow or mouse wheel down: scroll the content one line down.</p>
</li>
<li>
<p>HOME or 'g': scroll to the top of the content. NB: HOME is only supported
for keyboards containing this key.</p>
</li>
<li>
<p>END or 'G': scroll to the bottom of the content. NB: END is only supported
for keyboards containing this key.</p>
</li>
<li>
<p>'q' or 'Q' or ESC: exit the paging.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>NB: When the end of the content is reached (using ENTER, space, &#8230;&#8203;) the paging
 is automatically exited.</p>
</div>
<div class="paragraph">
<p>It is possible to search for text when the content is paged. Search is operated
 with the following keys:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>'/' to display prompt allowing to type some text. Type return to launch the search.<br>
You can use up/down arrows to retrieve previously typed text. NB: search history
 is not persisted when CLI process exits.</p>
</li>
<li>
<p>'n' to jump to the next match if any. If no search text has been typed, then the
last entry from the search history is used.</p>
</li>
<li>
<p>'N' to jump to the previous match if any. If no search text has been typed,
then the last entry from the search history is used.</p>
</li>
</ul>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
On Windows, searching and navigating backward is only supported starting with Windows 10 and Windows Server 2016.
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
If the CLI process is sent the signal KILL(9) while it is paging, the terminal will stay
 in alternate mode. This makes the terminal to behave in an unexpected manner (display and mouse events).
 In order to restore the terminal state call: <em>tput rmcup</em>.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="batch-processing">Batch Processing</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The batch mode allows one to group commands and operations and execute
them together as an atomic unit. If at least one of the commands or
operations fails, all the other successfully executed commands and
operations in the batch are rolled back.</p>
</div>
<div class="paragraph">
<p>Not all of the commands are allowed in the batch. For example, commands
like <em>cd</em>, <em>ls</em>, <em>help</em>, etc. are not allowed in the batch since they
don&#8217;t translate into operation requests. Only the commands that
translate into operation requests are allowed in the batch. The batch,
actually, is executed as a composite operation request.</p>
</div>
<div class="paragraph">
<p>The batch mode is entered by executing command <em>batch</em>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[standalone@localhost:9990 /] batch
[standalone@localhost:9990 / #] /subsystem=datasources/data-source="java\:\/H2DS":enable
[standalone@localhost:9990 / #] /subsystem=messaging-activemq/server=default/jms-queue=newQueue:add</pre>
</div>
</div>
<div class="paragraph">
<p>You can execute a batch using the <em>run-batch</em> command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">[standalone@localhost:9990 / #] run-batch
The batch executed successfully.</code></pre>
</div>
</div>
<div class="paragraph">
<p>Exit the batch edit mode without losing your changes:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">[standalone@localhost:9990 / #] holdback-batch
[standalone@localhost:9990 /]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then activate it later on again:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">[standalone@localhost:9990 /] batch
Re-activated batch
#1 /subsystem=datasources/data-source=java:/H2DS:\/H2DS:enable</code></pre>
</div>
</div>
<div class="paragraph">
<p>There are several other notable batch commands available as well (tab
complete to see the list):</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>clear-batch</em></p>
</li>
<li>
<p><em>edit-batch-line</em> (e.g. <em>edit-batch line 3 create-jms-topic
name=mytopic</em>)</p>
</li>
<li>
<p><em>remove-batch-line</em> (e.g. <em>remove-batch-line 3</em>)</p>
</li>
<li>
<p><em>move-batch-line</em> (e.g. <em>move-batch-line 3 1</em>)</p>
</li>
<li>
<p><em>discard-batch</em></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="operators">Operators</h2>
<div class="sectionbody">
<div class="paragraph">
<p>CLI has some operators that are similar to shell operators:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>&gt;</em> To redirect the output of a command/operation to a file:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>:read-resource &gt; my-file.txt</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><em>&gt;&gt;</em> To redirect the output of a command/operation and append it at the end of a file:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>:read-resource &gt;&gt; my-file.txt</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><em>|</em> To redirect the output of a command/operation to the <em>grep</em> command:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>:read-resource | grep undefined</pre>
</div>
</div>
</div>
</div></div>
</div>



  </div>

  <div class="content project-footer">
  <div class="footer-section">
    <div class="logo-wrapper">
      <a href="/wildflysite/"><img class="wf-logo" src="/wildflysite/assets/img/wildfly_icons_one-color-logo.png"></a>
    </div>
  </div>
  <div class="grid-wrapper">
    <p class="grid__item width-3-12">WildFly is open. All dependencies of this project are available under the <a href='https://www.gnu.org/licenses/old-licenses/lgpl-2.1.en.html' class='dark-background' target='_blank'>LGPL 2.1</a> or compatible license.<br/><br/>This website was built with <a href='https://jekyllrb.com/' class='dark-background' target='_blank'>Jekyll</a> is hosted on <a href='https://pages.github.com/' class='dark-background' target='_blank'>Github Pages</a> and is completely open source. If you want to make it better, <a href='https://github.com/wildfly/wildfly.org/fork' class='dark-background' target='_blank'>fork it</a> and show us what you’ve got.</p>

    
      <div class="width-1-12 project-links">
        <strong>Navigation</strong>
        <ul class="footer-links width-1-12">
          
            <li><a href="/wildflysite/downloads" class="dark-background">Downloads</a></li>
          
            <li><a href="/wildflysitef/docs" class="dark-background">Docs</a></li>
          
            <li><a href="https://github.com/wildfly/wildfly" class="dark-background">Github</a></li>
          
        </ul>
      </div>
    
      <div class="width-1-12 project-links">
        <strong>Contribute</strong>
        <ul class="footer-links width-1-12">
          
            <li><a href="https://issues.jboss.org/browse/WFLY" class="dark-background">Submit a bug</a></li>
          
            <li><a href="https://community.jboss.org/en/wildfly?view=discussion" class="dark-background">Join the forum</a></li>
          
            <li><a href="https://github.com/wildfly/wildfly/fork" class="dark-background">Fork WildFly</a></li>
          
            <li><a href="https://twitter.com/WildFlyAS" class="dark-background">Follow us</a></li>
          
        </ul>
      </div>
    
      <div class="width-1-12 project-links">
        <strong>Get Help</strong>
        <ul class="footer-links width-1-12">
          
            <li><a href="https://community.jboss.org/en/wildfly?view=discussion" class="dark-background">Join the forum</a></li>
          
            <li><a href="https://www.hipchat.com/gFOhnVQke" class="dark-background">Join HipChat</a></li>
          
        </ul>
      </div>
    

    
      <div class="width-6-12 more-links">
        <strong>Find more Red Hat Middleware Community Projects</strong>
        <ul class="footer-links">
          
            <li><a href="https://www.apiman.io/" class="dark-background">APIMan</a></li>
          
            <li><a href="http://arquillian.org" class="dark-background">Arquillian</a></li>
          
            <li><a href="http://byteman.jboss.org/" class="dark-background">Byteman</a></li>
          
            <li><a href="http://capedwarf.org/" class="dark-background">CapeDwarf</a></li>
          
            <li><a href="https://github.com/alechenninger/chronicler" class="dark-background">Chronicler</a></li>
          
            <li><a href="https://github.com/darcy-framework" class="dark-background">Darcy</a></li>
          
            <li><a href="http://debezium.io/" class="dark-background">Debezium</a></li>
          
            <li><a href="https://www.drools.org/" class="dark-background">Drools</a></li>
          
            <li><a href="http://gatein.jboss.org/" class="dark-background">GateIn</a></li>
          
            <li><a href="http://www.hawkular.org/" class="dark-background">Hawkular</a></li>
          
            <li><a href="http://hawt.io/" class="dark-background">Hawtio</a></li>
          
            <li><a href="http://hibernate.org/" class="dark-background">Hibernate</a></li>
          
            <li><a href="http://www.infinispan.org/" class="dark-background">Infinispan</a></li>
          
            <li><a href="https://devstudio.jboss.com/" class="dark-background">JBoss DevStudio</a></li>
          
            <li><a href="http://forge.jboss.org/" class="dark-background">JBoss Forge</a></li>
          
            <li><a href="https://github.com/jboss-logging" class="dark-background">JBoss Logging</a></li>
          
            <li><a href="http://jbossremoting.jboss.org/" class="dark-background">JBoss Remoting</a></li>
          
            <li><a href="https://www.jbpm.org/" class="dark-background">jBPM</a></li>
          
            <li><a href="https://jsfunit.jboss.org/" class="dark-background">JSFUnit</a></li>
          
            <li><a href="https://www.keycloak.org/" class="dark-background">Keycloak</a></li>
          
            <li><a href="http://modcluster.io/" class="dark-background">Mod Cluster</a></li>
          
            <li><a href="http://modeshape.jboss.org/" class="dark-background">ModeShape</a></li>
          
            <li><a href="https://www.optaplanner.org/" class="dark-background">OptaPlanner</a></li>
          
            <li><a href="https://picketbox.jboss.org/" class="dark-background">Picketbox</a></li>
          
            <li><a href="http://resteasy.jboss.org/" class="dark-background">RESTEasy</a></li>
          
            <li><a href="https://riftsaw.jboss.org/" class="dark-background">Riftsaw</a></li>
          
            <li><a href="http://savara.jboss.org/" class="dark-background">Savara</a></li>
          
            <li><a href="http://seamframework.org/" class="dark-background">Seam</a></li>
          
            <li><a href="http://arquillian.org/" class="dark-background">Shrinkwrap</a></li>
          
            <li><a href="http://snowdrop.jboss.org/" class="dark-background">Snowdrop</a></li>
          
            <li><a href="https://switchyard.jboss.org/" class="dark-background">Switchyard</a></li>
          
            <li><a href="https://tattletale.jboss.org/" class="dark-background">Tattletale</a></li>
          
            <li><a href="http://teiid.jboss.org/" class="dark-background">Teiid</a></li>
          
            <li><a href="http://wildfly-swarm.io/" class="dark-background">WildFly Swarm</a></li>
          
            <li><a href="http://wise.jboss.org/" class="dark-background">Wise</a></li>
          
            <li><a href="https://xnio.jboss.org/" class="dark-background">XNIO</a></li>
          
        </ul>
      </div>
    
  </div>
</div>
  <div class="content redhat-footer">
  <div class="grid-wrapper">
    <span class="licence">
      <i class="fab fa-creative-commons"></i><i class="fab fa-creative-commons-by"></i> <a href="https://creativecommons.org/licenses/by/3.0/" class="dark-background" target="_blank">CC by 3.0</a>
    </span>
    <span class="redhat">
      a Red Hat sponsored project   
    </span>
    <span class="redhat-logo">
      <a href="https://www.redhat.com/"><img src="/wildflysite/assets/img/RHLogo_white.svg"></a>
    </span>
  </div>
</div>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
  <script type="text/javascript" src="/wildflysite/assets/javascript/mobile-nav.js"></script>
</body>

</html>