<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.5.0 -->
<title>How do I migrate my application from AS7 to WildFly | Wildfly</title>
<meta name="generator" content="Jekyll v3.8.3" />
<meta property="og:title" content="How do I migrate my application from AS7 to WildFly" />
<meta property="og:locale" content="en_US" />
<link rel="canonical" href="https://jbossorg.github.io/wildflysite/docs/13/_developer-guide/How_do_I_migrate_my_application_from_AS7_to_WildFly.html" />
<meta property="og:url" content="https://jbossorg.github.io/wildflysite/docs/13/_developer-guide/How_do_I_migrate_my_application_from_AS7_to_WildFly.html" />
<meta property="og:site_name" content="Wildfly" />
<script type="application/ld+json">
{"@type":"WebPage","url":"https://jbossorg.github.io/wildflysite/docs/13/_developer-guide/How_do_I_migrate_my_application_from_AS7_to_WildFly.html","headline":"How do I migrate my application from AS7 to WildFly","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/wildflysite/assets/main.css"><link type="application/atom+xml" rel="alternate" href="https://jbossorg.github.io/wildflysite/feed.xml" title="Wildfly" /></head>
<body><div class="header navigation">
  <div class="logo-wrapper">
    <a href="/wildflysite/"><img class="wf-logo" src="/wildflysite/assets/img/wildfly_icons_one-color-logo.png"></a>
  </div>
  <div class="nav-container">
    <nav>
      <div class="nav-mobile"><a id="nav-toggle" href="#!"><span></span></a></div>
      <ul class="nav-list">
        <li>
          <a href="/wildflysite/" class="">Home</a>
        </li>
        <li>
          <a href="/wildflysite/downloads/" class="">Downloads</a>
        </li>
        <li>
          <a href="/wildflysite/blog/" class="">Blog</a>
        </li>
        <li>
          <a href="/wildflysite/about/" class="">About</a>
        </li>
        <li>
          <a href="/wildflysite/contribute/" class="">Contribute</a>
        </li>
        <li>
          <a href="/wildflysite/docs/" class="">Docs</a>
        </li>
        <li>
          <a class="button-cta secondary" href="https://github.com/wildfly/wildfly/fork" target="_blank">Fork</a>
        </li>
      </ul>
    </nav>
  </div>
</div>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <div class="sect1">
<h2 id="about-this-document">About this Document</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The purpose of this guide is to document changes that are needed to
successfully run and deploy AS 7 applications on WildFly. It provides
information on to resolve deployment and runtime problems and how to
prevent changes in application behavior. This is the first step in
moving to the new platform. Once the application is successfully
deployed and running on the new platform, plans can be made to upgrade
individual components to use the new functions and features of WildFly.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="overview-of-wildfly">Overview of WildFly</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The list of WildFly new functionality is extensive, being the most
relevant, with respect to server and application migrations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Java EE7 - WildFly is a certified implementation of Java EE7, meeting
both the Web and the Full profiles, and already includes support for the
latest iterations of CDI (1.2) and Web Sockets (1.1).</p>
</li>
<li>
<p>Undertow - A new cutting-edge web server in WildFly, designed for
maximum throughput and scalability, including environments with over a
million connections. And the latest web technologies, such as the new
HTTP/2 standard, are already onboard.</p>
</li>
<li>
<p>Apache ActiveMQ Artemis - WildFly&#8217;s new JMS broker. Based on an code
donation from HornetQ, this Apache subproject provides outstanding
performance based on a proven non-blocking architecture.</p>
</li>
<li>
<p>IronJacamar 1.2 - The latest IronJacamar provides a stable and feature
rich JCA &amp; Datasources support.</p>
</li>
<li>
<p>JBossWS 5 - The fifth generation of JBossWS, a major leap forward,
brings new features and performances improvements to WildFly Web
Services</p>
</li>
<li>
<p>RESTEasy 3 - WildFly includes the latest generation of RESTEasy, which
goes beyond the standard Java EE REST APIs (JAX-RS 2.0), by also
providing a number of useful extensions, such as JSON Web Encryption,
Jackson, Yaml, JSON-P, and Jettison.</p>
</li>
<li>
<p>OpenJDK ORB - WildFly switched the IIOP implementation from JacORB, to
a downstream branch of the OpenJDK Orb, leading to better
interoperability with the JVM ORB and the Java EE RI.</p>
</li>
<li>
<p>Feature Rich Clustering - Clustering support was heavily refactored in
WildFly, and includes several APIs for applications</p>
</li>
<li>
<p>Port Reduction - By utilising HTTP upgrade, WildFly has moved nearly
all of its protocols to be multiplexed over just two HTTP ports: a
management port (9990), and an application port (8080).</p>
</li>
<li>
<p>Enhanced Logging - The management API now supports the ability to list
and view the available log files on a server, or even define custom
formatters other than the default pattern formatter. Deployment&#8217;s
logging setup is also greatly enhanced.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The support for some technologies was removed, due to the high
maintenance cost, low community interest, and much better alternative
solutions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>CMP EJB - JPA offers a much more performant and flexible API</p>
</li>
<li>
<p>JAX-RPC - JAX-WS offers a much more accurate and complete solution</p>
</li>
<li>
<p>JSR-88 - With very little adoption, the more complete deployment APIs
provided by vendors are preferred</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="server-migration">Server Migration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Migrating an AS7 server to WildFly consists of migrating custom
configuration files, and some persisted data that may exist.</p>
</div>
<div class="sect2">
<h3 id="jacorb-subsystem">JacORB Subsystem</h3>
<div class="paragraph">
<p>WildFly ORB support is provided by the JDK itself, instead of relying on
JacORB. A subsystem configuration migration is required.</p>
</div>
<div class="sect3">
<h4 id="jacorb-subsystem-configuration">JacORB Subsystem Configuration</h4>
<div class="paragraph">
<p>The extension&#8217;s module <strong>org.jboss.as.jacorb *is replaced by module
*org.wildfly.iiop-openjdk</strong>, while the subsystem configuration namespace
<strong>urn:jboss:domain:jacorb:2.0</strong> is replaced by
<strong>urn:jboss:domain:iiop-openjdk:1.0</strong>.</p>
</div>
<div class="paragraph">
<p>The XML configuration of the new subsystem accepts only a subset of the
legacy elements/attributes. Consider the following example of the JacORB
subsystem configuration, containing all valid elements and attributes:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;subsystem xmlns="urn:jboss:domain:jacorb:1.3"&gt;
   &lt;orb name="JBoss" print-version="off" use-imr="off" use-bom="off"  cache-typecodes="off"
       cache-poa-names="off" giop-minor-version ="2" socket-binding="jacorb" ssl-socket-binding="jacorb-ssl"&gt;
       &lt;connection retries="5" retry-interval="500" client-timeout="0" server-timeout="0"
           max-server-connections="500" max-managed-buf-size="24" outbuf-size="2048"
           outbuf-cache-timeout="-1"/&gt;
       &lt;initializers security="off" transactions="spec"/&gt;
   &lt;/orb&gt;
   &lt;poa monitoring="off" queue-wait="on" queue-min="10" queue-max="100"&gt;
       &lt;request-processors pool-size="10" max-threads="32"/&gt;
   &lt;/poa&gt;
   &lt;naming root-context="JBoss/Naming/root" export-corbaloc="on"/&gt;
   &lt;interop sun="on" comet="off" iona="off" chunk-custom-rmi-valuetypes="on"
       lax-boolean-encoding="off" indirection-encoding-disable="off" strict-check-on-tc-creation="off"/&gt;
   &lt;security support-ssl="off" add-component-via-interceptor="on" client-supports="MutualAuth"
       client-requires="None" server-supports="MutualAuth" server-requires="None"/&gt;
   &lt;properties&gt;
       &lt;property name="some_property" value="some_value"/&gt;
   &lt;/properties&gt;
&lt;/subsystem&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Properties that are not supported and have to be removed:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>&lt;orb/&gt;: client-timeout, max-managed-buf-size, max-server-connections,
outbuf-cache-timeout, outbuf-size, connection retries, retry-interval,
name,server-timeout</p>
</li>
<li>
<p>&lt;poa/&gt;: queue-min, queue-max, pool-size, max-threads</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>On-off properties: have to either be removed or in off mode:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>&lt;orb/&gt;: cache-poa-names, cache-typecodes, print-version, use-bom,
use-imr</p>
</li>
<li>
<p>&lt;interop/&gt;: all except sun</p>
</li>
<li>
<p>&lt;poa/&gt;: monitoring, queue-wait</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In case the legacy subsystem configuration is available, such
configuration may be migrated to the new subsystem by invoking its
<code>migrate</code> operation, using the CLI management client:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">/subsystem=jacorb:migrate</code></pre>
</div>
</div>
<div class="paragraph">
<p>There is also a <code>describe-migration</code> operation that returns a list of
all the management operations that are performed to migrate from the
legacy subsystem to the new one:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">/subsystem=jacorb:describe-migration</code></pre>
</div>
</div>
<div class="paragraph">
<p>Both <code>migrate</code> and <code>describe-migration</code> will also display a list of
migration-warnings if there are some resource or attributes that can not
be migrated automatically. The following is a list of these warnings:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Properties X cannot be emulated using OpenJDK ORB and are not
supported<br>
This warning means that mentioned properties are not supported and won&#8217;t
be included in the new subsystem configuration. As a result of that
admin must be aware that any behaviour implied by those properties would
be inexistent. Admin has to check whether subsystem is able to operate
correctly without that behaviour on the new server.Unsupported
properties: cache-poa-names, cache-typecodes,
chunk-custom-rmi-valuetypes, client-timeout, comet,
indirection-encoding-disable, iona, lax-boolean-encoding,
max-managed-buf-size, max-server-connections, max-threads,
outbuf-cache-timeout, outbuf-size, queue-max, queue-min, poa-monitoring,
print-version, retries, retry-interval, queue-wait, server-timeout,
strict-check-on-tc-creation, use-bom, use-imr.</p>
</li>
<li>
<p>The properties X use expressions. Configuration properties that are
used to resolve those expressions should be transformed manually to the
new iiop-openjdk subsystem format<br>
Admin has to transform all the configuration files to work correctly
with the jacorb subsystem. f.e. jacorb has a property giop-minor-version
whereas openjdk uses property giop-version. Let&#8217;s suppose we use '1'
minor version in jacorb and have it configured in standalone.conf file
as system variable: -Diiop-giop-minor-version=1. Admin is responsible
for changing this variable to 1.1 after the migration to make sure that
the new subsystem will work correctly.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="jboss-web-subsystem">JBoss Web Subsystem</h3>
<div class="paragraph">
<p>JBoss Web is replaced by Undertow in WildFly, which means that the
legacy subsystem configuration should be migrated to WildFly&#8217;s Undertow
subsystem configuration.</p>
</div>
<div class="sect3">
<h4 id="jboss-web-subsystem-configuration">JBoss Web Subsystem Configuration</h4>
<div class="paragraph">
<p>The extension&#8217;s module <strong>org.jboss.as.web *is replaced by module
*org.wildfly.extension.undertow</strong>, while the subsystem configuration
namespace <strong>urn:jboss:domain:web:</strong>* is replaced by
<strong>urn:jboss:domain:undertow:3.0</strong>.</p>
</div>
<div class="paragraph">
<p>The XML configuration of the new subsystem is relatively different.
Consider the following example of the JBoss Web subsystem configuration,
containing all valid elements and attributes:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;subsystem xmlns="urn:jboss:domain:web:2.2" default-virtual-server="default-host" native="true" default-session-timeout="30" instance-id="foo"&gt;
    &lt;configuration&gt;
        &lt;static-resources listings="true"
                          sendfile="1000"
                          file-encoding="utf-8"
                          read-only="true"
                          webdav="false"
                          secret="secret"
                          max-depth="5"
                          disabled="false"
                /&gt;
        &lt;jsp-configuration development="true"
                           disabled="false"
                           keep-generated="true"
                           trim-spaces="true"
                           tag-pooling="true"
                           mapped-file="true"
                           check-interval="20"
                           modification-test-interval="1000"
                           recompile-on-fail="true"
                           smap="true"
                           dump-smap="true"
                           generate-strings-as-char-arrays="true"
                           error-on-use-bean-invalid-class-attribute="true"
                           scratch-dir="/some/dir"
                           source-vm="1.7"
                           target-vm="1.7"
                           java-encoding="utf-8"
                           x-powered-by="true"
                           display-source-fragment="true" /&gt;
        &lt;mime-mapping name="ogx" value="application/ogg" /&gt;
        &lt;welcome-file&gt;titi&lt;/welcome-file&gt;
    &lt;/configuration&gt;
    &lt;connector name="http" scheme="http"
               protocol="HTTP/1.1"
               socket-binding="http"
               enabled="true"
               enable-lookups="false"
               proxy-binding="reverse-proxy"
               max-post-size="2097153"
               max-save-post-size="512"
               redirect-binding="https"
               max-connections="300"
               secure="false"
               executor="some-executor"
            /&gt;
    &lt;connector name="https" scheme="https" protocol="HTTP/1.1" secure="true" socket-binding="https"&gt;
        &lt;ssl certificate-key-file="${file-base}/server.keystore"
             ca-certificate-file="${file-base}/jsse.keystore"
             key-alias="test"
             password="changeit"
             cipher-suite="SSL_RSA_WITH_3DES_EDE_CBC_SHA"
             protocol="SSLv3"
             verify-client="true"
             verify-depth="3"
             certificate-file="certificate-file.ext"
             ca-revocation-url="https://example.org/some/url"
             ca-certificate-password="changeit"
             keystore-type="JKS"
             truststore-type="JKS"
             session-cache-size="512"
             session-timeout="3000"
             ssl-protocol="RFC4279"
                /&gt;
    &lt;/connector&gt;
    &lt;connector name="http-vs" scheme="http" protocol="HTTP/1.1" socket-binding="http" &gt;
        &lt;virtual-server name="vs1" /&gt;
        &lt;virtual-server name="vs2" /&gt;
    &lt;/connector&gt;
    &lt;virtual-server name="default-host" enable-welcome-root="true" default-web-module="foo.war"&gt;
        &lt;alias name="localhost" /&gt;
        &lt;alias name="example.com" /&gt;
        &lt;access-log resolve-hosts="true" extended="true" pattern="extended" prefix="prefix" rotate="true" &gt;
            &lt;directory relative-to="jboss.server.base.dir" path="toto" /&gt;
        &lt;/access-log&gt;
        &lt;rewrite name="myrewrite" pattern="^/helloworld(.*)" substitution="/helloworld/test.jsp" flags="L" /&gt;
        &lt;rewrite name="with-conditions" pattern="^/helloworld(.*)" substitution="/helloworld/test.jsp" flags="L" &gt;
            &lt;condition name="https" pattern="off" test="%{HTTPS}" flags="NC"/&gt;
            &lt;condition name="user" test="%{USER}" pattern="toto" flags="NC"/&gt;
            &lt;condition name="no-flags" test="%{USER}" pattern="toto"/&gt;
        &lt;/rewrite&gt;
        &lt;sso reauthenticate="true" domain="myDomain" cache-name="myCache"
             cache-container="cache-container" http-only="true"/&gt;
    &lt;/virtual-server&gt;
    &lt;virtual-server name="vs1" /&gt;
    &lt;virtual-server name="vs2" /&gt;
    &lt;valve name="myvalve" module="org.jboss.some.module" class-name="org.jboss.some.class" enabled="true"&gt;
        &lt;param param-name="param-name" param-value="some-value"/&gt;
    &lt;/valve&gt;
    &lt;valve name="accessLog" module="org.jboss.as.web" class-name="org.apache.catalina.valves.AccessLogValve"&gt;
        &lt;param param-name="prefix" param-value="myapp_access_log." /&gt;
        &lt;param param-name="suffix" param-value=".log" /&gt;
        &lt;param param-name="rotatable" param-value="true" /&gt;
        &lt;param param-name="fileDateFormat" param-value="yyyy-MM-dd" /&gt;
        &lt;param param-name="pattern" param-value="common" /&gt;
        &lt;param param-name="directory" param-value="${jboss.server.log.dir}" /&gt;
        &lt;param param-name="resolveHosts" param-value="false"/&gt;
        &lt;param param-name="conditionIf" param-value="log-enabled"/&gt;
    &lt;/valve&gt;
    &lt;valve name="request-dumper" module="org.jboss.as.web" class-name="org.apache.catalina.valves.RequestDumperValve"/&gt;
    &lt;valve name="remote-addr" module="org.jboss.as.web" class-name="org.apache.catalina.valves.RemoteAddrValve"&gt;
        &lt;param param-name="allow" param-value="127.0.0.1,127.0.0.2" /&gt;
        &lt;param param-name="deny" param-value="192.168.1.20" /&gt;
    &lt;/valve&gt;
    &lt;valve name="crawler" class-name="org.apache.catalina.valves.CrawlerSessionManagerValve" module="org.jboss.as.web" &gt;
        &lt;param param-name="sessionInactiveInterval" param-value="1" /&gt;
        &lt;param param-name="crawlerUserAgents" param-value="Google" /&gt;
    &lt;/valve&gt;
    &lt;valve name="proxy" class-name="org.apache.catalina.valves.RemoteIpValve" module="org.jboss.as.web" &gt;
        &lt;param param-name="internalProxies" param-value="192\.168\.0\.10|192\.168\.0\.11" /&gt;
        &lt;param param-name="remoteIpHeader" param-value="x-forwarded-for" /&gt;
        &lt;param param-name="proxiesHeader" param-value="x-forwarded-by" /&gt;
        &lt;param param-name="trustedProxies" param-value="proxy1|proxy2" /&gt;
    &lt;/valve&gt;
&lt;/subsystem&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>FIXME compare with Undertow, list unsupported features</p>
</div>
<div class="paragraph">
<p>It&#8217;s possible to do a migration of the legacy subsystem configuration,
and related persisted data. , by invoking the legacy&#8217;s subsystem&#8217;s
<code>migrate</code> operation, using the CLI management client:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">/subsystem=web:migrate</code></pre>
</div>
</div>
<div class="paragraph">
<p>There is also a <code>describe-migration</code> operation that returns a list of
all the management operations that are performed to migrate from the
legacy subsystem to the new one:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">/subsystem=web:describe-migration</code></pre>
</div>
</div>
<div class="paragraph">
<p>Both <code>migrate</code> and <code>describe-migration</code> will also display a list of
migration-warnings if there are some resource or attributes that can not
be migrated automatically. The following is a list of these warnings:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Could not migrate resource X<br>
This warning means that mentioned resource configuration is not
supported and won&#8217;t be included in the new subsystem configuration. As a
result of that admin must be aware that any behaviour implied by those
resources would be inexistent. Admin has to check whether subsystem is
able to operate correctly without that behaviour on the new server.<br>
FIXME must document which are the resources that trigger this</p>
</li>
<li>
<p>Could not migrate attribute X from resource Y.<br>
This warning means that mentioned resource configuration property is not
supported and won&#8217;t be included in the new subsystem configuration. As a
result of that admin must be aware that any behaviour implied by those
properties would be inexistent. Admin has to check whether subsystem is
able to operate correctly without that behaviour on the new server.<br>
FIXME must document which are the properties that trigger this</p>
</li>
<li>
<p>Could not migrate SSL connector as no SSL config is defined</p>
</li>
<li>
<p>Could not migrate verify-client attribute %s to the Undertow
equivalent</p>
</li>
<li>
<p>Could not migrate verify-client expression %s</p>
</li>
<li>
<p>Could not migrate valve X<br>
This warning means that mentioned valve configuration is not supported
and won&#8217;t be included in the new subsystem configuration. As a result of
that admin must be aware that any behaviour implied by those resources
would be inexistent. Admin has to check whether subsystem is able to
operate correctly without that behaviour on the new server. This warning
may happen for :</p>
<div class="ulist">
<ul>
<li>
<p>org.apache.catalina.valves.RemoteAddrValve : must have at least one
allowed or denied value.</p>
</li>
<li>
<p>org.apache.catalina.valves.RemoteHostValve : must have at least one
allowed or denied value.</p>
</li>
<li>
<p>org.apache.catalina.authenticator.BasicAuthenticator</p>
</li>
<li>
<p>org.apache.catalina.authenticator.DigestAuthenticator</p>
</li>
<li>
<p>org.apache.catalina.authenticator.FormAuthenticator</p>
</li>
<li>
<p>org.apache.catalina.authenticator.SSLAuthenticator</p>
</li>
<li>
<p>org.apache.catalina.authenticator.SpnegoAuthenticator</p>
</li>
<li>
<p>custom valves</p>
</li>
</ul>
</div>
</li>
<li>
<p>Could not migrate attribute X from valve Y<br>
This warning means that mentioned valve configuration property is not
supported and won&#8217;t be included in the new subsystem configuration. As a
result of that admin must be aware that any behaviour implied by those
properties would be inexistent. Admin has to check whether subsystem is
able to operate correctly without that behaviour on the new server. This
warning may happen for :</p>
<div class="ulist">
<ul>
<li>
<p>org.apache.catalina.valves.AccessLogValve : if you use the following
parameters <em>resolveHosts</em>, <em>fileDateFormat</em>, <em>renameOnRotate</em>,
<em>encoding</em>, <em>locale</em>, <em>requestAttributesEnabled</em>, <em>buffered</em>.</p>
</li>
<li>
<p>org.apache.catalina.valves.ExtendedAccessLogValve : if you use the
following parameters <em>resolveHosts</em>, <em>fileDateFormat</em>, <em>renameOnRotate</em>,
<em>encoding</em>, <em>locale</em>, <em>requestAttributesEnabled</em>, <em>buffered</em>.</p>
</li>
<li>
<p>org.apache.catalina.valves.RemoteIpValve:</p>
<div class="ulist">
<ul>
<li>
<p>if <em>remoteIpHeader</em> is defined and isn&#8217;t set to "x-forwarded-for".</p>
</li>
<li>
<p>if <em>protocolHeader</em> is defined and isn&#8217;t set to "x-forwarded-proto".</p>
</li>
<li>
<p>if you use the following parameters <em>httpServerPort</em> and
<em>httpsServerPort</em> .</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Also, please note that Undertow doesn&#8217;t support JBoss Web <strong>valves</strong>, but
some of these may be migrated to Undertow handlers, and JBoss Web
subsystem&#8217;s <code>migrate</code> operation do that too.</p>
</div>
<div class="paragraph">
<p>Here is a list of those valves and their corresponding Undertow handler:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Valve</th>
<th class="tableblock halign-left valign-top">Handler</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">org.apache.catalina.valves.AccessLogValve</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">io.undertow.server.handlers.accesslog.AccessLogHandler</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">org.apache.catalina.valves.ExtendedAccessLogValve</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">io.undertow.server.handlers.accesslog.AccessLogHandler</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">org.apache.catalina.valves.RequestDumperValve</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">io.undertow.server.handlers.RequestDumpingHandler</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">org.apache.catalina.valves.RewriteValve</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">io.undertow.server.handlers.SetAttributeHandler</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">org.apache.catalina.valves.RemoteHostValve</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">io.undertow.server.handlers.AccessControlListHandler</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">org.apache.catalina.valves.RemoteAddrValve</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">io.undertow.server.handlers.IPAddressAccessControlHandler</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">org.apache.catalina.valves.RemoteIpValve</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">io.undertow.server.handlers.ProxyPeerAddressHandler</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">org.apache.catalina.valves.StuckThreadDetectionValve</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">io.undertow.server.handlers.StuckThreadDetectionHandler</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">org.apache.catalina.valves.CrawlerSessionManagerValve</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">io.undertow.servlet.handlers.CrawlerSessionManagerHandler</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The <strong>org.apache.catalina.valves.JDBCAccessLogValve</strong> can&#8217;t be
automatically migrated to <strong>io.undertow.server.handlers.JDBCLogHandler</strong>
as the expectations differ.<br>
The migration can be done manually thought :</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>create the driver module and add the driver to the list of available
drivers</p>
</li>
<li>
<p>create a datasource pointing to the database where the log entries
are going to be stored</p>
</li>
<li>
<p>add an <strong>expression-filter</strong> definition with the following expression:
"jdbc-access-log(datasource='datasource-jndi-name')</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;valve name="jdbc" module="org.jboss.as.web" class-name="org.apache.catalina.valves.JDBCAccessLogValve"&gt;
    &lt;param param-name="driverName" param-value="com.mysql.jdbc.Driver" /&gt;
    &lt;param param-name="connectionName" param-value="root" /&gt;
    &lt;param param-name="connectionPassword" param-value="password" /&gt;
    &lt;param param-name="connectionURL" param-value="jdbc:mysql://localhost:3306/wildfly?zeroDateTimeBehavior=convertToNull" /&gt;
    &lt;param param-name="format" param-value="combined" /&gt;
&lt;/valve&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>should become:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;subsystem xmlns="urn:jboss:domain:datasources:1.2"&gt;
    &lt;datasources&gt;
        &lt;datasource jndi-name="java:jboss/datasources/accessLogDS" pool-name="ccessLogDS" enabled="true" use-java-context="true"&gt;
            &lt;connection-url&gt;jdbc:mysql://localhost:3306/wildfly?zeroDateTimeBehavior=convertToNull&lt;/connection-url&gt;
            &lt;driver&gt;mysql&lt;/driver&gt;
            &lt;security&gt;
               &lt;user-name&gt;root&lt;/user-name&gt;
               &lt;password&gt;password&lt;/password&gt;
            &lt;/security&gt;
        &lt;/datasource&gt;
...
        &lt;drivers&gt;
            &lt;driver name="mysql" module="com.mysql"&gt;
                &lt;driver-class&gt;com.mysql.jdbc.Driver&lt;/driver-class&gt;
            &lt;/driver&gt;
...
        &lt;/drivers&gt;
    &lt;/datasources&gt;
&lt;/subsystem&gt;
...
&lt;subsystem xmlns="urn:jboss:domain:undertow:3.1" default-virtual-host="default-virtual-host" default-servlet-container="myContainer"
           default-server="some-server" instance-id="some-id" statistics-enabled="true"&gt;
...
    &lt;server name="some-server" default-host="other-host" servlet-container="myContainer"&gt;
...
        &lt;host name="other-host" alias="www.mysite.com, ${prop.value:default-alias}" default-web-module="something.war" disable-console-redirect="true"&gt;
            &lt;location name="/" handler="welcome-content" /&gt;
            &lt;filter-ref name="jdbc-access"/&gt;
        &lt;/host&gt;
    &lt;/server&gt;
...
    &lt;filters&gt;
        &lt;expression-filter name="jdbc-access" expression="jdbc-access-log(datasource='java:jboss/datasources/accessLogDS')" /&gt;
...
    &lt;/filters&gt;
 
&lt;/subsystem&gt;</code></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Please note that any custom valve won&#8217;t be migrated at all and will just
be removed from the configuration.<br>
Also the authentication related valves are to be replaced by Undertow
authentication mechanisms, and this have to be done manually.</p>
</div>
<div class="paragraph">
<p>FIXME how this last "manual" replacement is done? Need whole process
documented and concrete example</p>
</div>
</div>
<div class="sect3">
<h4 id="websockets">WebSockets</h4>
<div class="paragraph">
<p>In AS7, to use WebSockets, you had to configure the 'http' <strong>connector</strong>
in the <strong>web</strong> subsystem of the server configuration file to use the NIO2
protocol. The following is an example of the Management CLI command to
configure WebSockets in the previous releases.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">/subsystem=web/connector=http/:write-attribute(name=protocol,value=org.apache.coyote.http11.Http11NioProtocol)</code></pre>
</div>
</div>
<div class="paragraph">
<p>WebSockets are a requirement of the Java EE 7 specification and the
default configuration is included in WildFly. More complex WebSocket
configuration is done in the <strong>servlet-container</strong> of the <strong>undertow</strong>
subsystem of the server configuration file.</p>
</div>
<div class="paragraph">
<p>You no longer need to configure the server for default WebSocket
support.<br>
FIXME isn&#8217;t &lt;websockets /&gt; required for that?</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="messaging-subsystem">Messaging Subsystem</h3>
<div class="paragraph">
<p>WildFly JMS support is provided by ActiveMQ Artemis, instead of HornetQ.
It&#8217;s possible to do a migration of the legacy subsystem configuration,
and related persisted data.</p>
</div>
<div class="sect3">
<h4 id="messaging-subsystem-configuration">Messaging Subsystem Configuration</h4>
<div class="paragraph">
<p>The extension&#8217;s module <strong>org.jboss.as.messaging</strong> is replaced by module
<strong>org.wildfly.extension.messaging-activemq</strong>, while the subsystem
configuration namespace <strong>urn:jboss:domain:messaging:3.0</strong> is replaced by
<strong>urn:jboss:domain:messaging-activemq:1.0</strong>.</p>
</div>
<div class="sect4">
<h5 id="management-model">Management model</h5>
<div class="paragraph">
<p>In most cases, an effort was made to keep resource and attribute names
as similar as possible to those used in previous releases. The following
table lists some of the changes.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">HornetQ name</th>
<th class="tableblock halign-left valign-top">ActiveMQ name</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">hornetq-server</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">server</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">hornetq-serverType</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">serverType</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">connectors</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">connector</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">discovery-group-name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">discovery-group</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The management operations invoked on the new messaging-subsystem starts
with <code>/subsystem=messaging-activemq/server=X</code> while the legacy messaging
subsystem was at <code>/subsystem=messaging/hornetq-server=X</code>.</p>
</div>
<div class="paragraph">
<p>In case the legacy subsystem configuration is available, such
configuration may be migrated to the new subsystem by invoking its
<code>migrate</code> operation, using the CLI management client:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">/subsystem=messaging:migrate</code></pre>
</div>
</div>
<div class="paragraph">
<p>There is also a <code>describe-migration</code> operation that returns a list of
all the management operations that are performed to migrate from the
legacy subsystem to the new one:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">/subsystem=messaging:describe-migration</code></pre>
</div>
</div>
<div class="paragraph">
<p>Both <code>migrate</code> and <code>describe-migration</code> will also display a list of
migration-warnings if there are some resource or attributes that can not
be migrated automatically. The following is a list of these warnings:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The migrate operation can not be performed: the server must be in
admin-only mode<br>
The <code>migrate</code> operation requires starting the server in admin-only mode,
which is done by adding parameter <code>--admin-only</code> to the server start
command, e.g.</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">./standalone.sh --admin-only</code></pre>
</div>
</div>
</li>
<li>
<p>Can not migrate attribute local-bind-address from resource X. Use
instead the socket-attribute to configure this broadcast-group.</p>
</li>
<li>
<p>Can not migrate attribute local-bind-port from resource X. Use instead
the socket-binding attribute to configure this broadcast-group.</p>
</li>
<li>
<p>Can not migrate attribute group-address from resource X. Use instead
the socket-binding attribute to configure this broadcast-group.</p>
</li>
<li>
<p>Can not migrate attribute group-port from resource X. Use instead the
socket-binding attribute to configure this broadcast-group.<br>
Broadcast-group resources no longer accept local-bind-address,
local-bind-port, group-address, group-port attributes. It only accepts a
socket-binding. The warning notifies that resource X has an unsupported
attribute. The user will have to set the socket-binding attribute on the
resource and ensures it corresponds to a defined socket-binding
resource.</p>
</li>
<li>
<p>Classes providing the %s are discarded during the migration. To use
them in the new messaging-activemq subsystem, you will have to extend
the Artemis-based Interceptor.<br>
Messaging interceptors support is significantly different in WildFly 10,
any interceptors configured in the legacy subsystem are discarded during
migration. Please refer to the Messaging Interceptors section to learn
how to migrate legacy Messaging interceptors.</p>
</li>
<li>
<p>Can not migrate the HA configuration of X. Its shared-store and backup
attributes holds expressions and it is not possible to determine
unambiguously how to create the corresponding ha-policy for the
messaging-activemq&#8217;s server.<br>
If the hornetq-server X&#8217;s shared-store or backup attributes hold an
expression, such as ${xxx}, then it&#8217;s not possible to determine the
actual ha-policy of the migrated server. In that case, we discard it and
the user will have to add the correct ha-policy afterwards (ha-policy is
a single resource underneath the messaging-activemq&#8217;s server resource).</p>
</li>
<li>
<p>Can not migrate attribute local-bind-address from resource X. Use
instead the socket-binding attribute to configure this
discovery-group.Can not migrate attribute local-bind-port from resource</p>
<div class="olist upperalpha">
<ol class="upperalpha" type="A">
<li>
<p>Use instead the socket-binding attribute to configure this
discovery-group.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Can not migrate attribute group-address from resource X. Use instead
the socket-binding attribute to configure this discovery-group.</p>
</li>
<li>
<p>Can not migrate attribute group-port from resource X. Use instead the
socket-binding attribute to configure this discovery-group.<br>
discovery-group resources no longer accept local-bind-address,
local-bind-port, group-address, group-port attributes. It only accepts a
socket-binding. The warning notifies that resource X has an unsupported
attribute.<br>
The user will have to set the socket-binding attribute on the resource
and ensures it corresponds to a defined socket-binding resource.</p>
</li>
<li>
<p>Can not create a legacy-connection-factory based on connection-factory</p>
<div class="olist upperalpha">
<ol class="upperalpha" type="A">
<li>
<p>It uses a HornetQ in-vm connector that is not compatible with Artemis
in-vm connector<br>
Legacy subsystem&#8217;s remote connection-factory resources are migrated into
legacy-connection-factory resources, to allow old EAP6 clients to
connect to EAP7. However a connection-factory using in-vm will not be
migrated, because a in-vm client will be based on EAP7, not EAP 6. In
other words, legacy-connection-factory are created only when the CF is
using remote connectors, and this warning notifies about in-vm
connection-factory X not migrated.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Can not migrate attribute X from resource Y. The attribute uses an
expression that can be resolved differently depending on system
properties. After migration, this attribute must be added back with an
actual value instead of the expression.<br>
This warning appears when the migration logic needs to know the concrete
value of attribute X during migration, but instead such value includes
an expression that&#8217;s can&#8217;t be resolved, so the actual value can not be
determined, and the attribute is discarded. It happens in several cases,
for instance:</p>
<div class="ulist">
<ul>
<li>
<p>cluster-connection forward-when-no-consumers. This boolean attribute
has been replaced by the message-load-balancing-type attribute (which is
an enum of OFF, STRICT, ON_DEMAND)</p>
</li>
<li>
<p>broadcast-group and discovery-group&#8217;s jgroups-stack and
jgroups-channel attributes. They reference other resources and we no
longer accept expressions for them.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Can not migrate attribute X from resource Y. This attribute is not
supported by the new messaging-activemq subsystem.<br>
Some attributes are no longer supported in the new messaging-activemq
subsystem and are simply discarded:</p>
<div class="ulist">
<ul>
<li>
<p>hornetq-server&#8217;s failback-delay</p>
</li>
<li>
<p>http-connector&#8217;s use-nio attribute</p>
</li>
<li>
<p>http-acceptor&#8217;s use-nio attribute</p>
</li>
<li>
<p>remote-connector&#8217;s use-nio attribute</p>
</li>
<li>
<p>remote-acceptor&#8217;s use-nio attribute</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="xml-configuration">XML Configuration</h5>
<div class="paragraph">
<p>The XML configuration has changed significantly with the new
messaging-activemq subsystem to provide a XML scheme more consistent
with other WildFly subsystems.<br>
It is not advised to change the XML configuration of the legacy
messaging subsystem to conform to the new messaging-activemq subsystem.
Instead, invoke the legacy subsystem <code>migrate</code> operation. This operation
will write the XML configuration of the new <strong>messaging-activemq</strong>
subsystem as a part of its execution.</p>
</div>
</div>
<div class="sect4">
<h5 id="messaging-interceptors">Messaging Interceptors</h5>
<div class="paragraph">
<p>Messaging Interceptors are significantly different in EAP 7, requiring
both code and configuration changes by the user. In concrete the
interceptor base Java class is now
<strong>org.apache.artemis.activemq.api.core.interceptor.Interceptor</strong>, and the
user interceptor implementation classes may now be loaded by any server
module. Note that prior to EAP 7 the interceptor classes could only be
installed by adding these to the HornetQ module, thus requiring the user
to change such module XML descriptor, its <strong>module.xml</strong>.<br>
With respect to the server XML configuration, the user must now specify
the module to load its interceptors in the new <strong>messaging-activemq</strong>
subsystem XML config, e.g:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;subsystem xmlns="urn:jboss:domain:messaging-activemq:1.0"&gt;
    &lt;server name="default"&gt;
       ...
        &lt;incoming-interceptors&gt;
            &lt;class name="org.foo.incoming.myInterceptor" module="org.foo" /&gt;
            &lt;class name="org.bar.incoming.myOtherInterceptor" module="org.bar" /&gt;
        &lt;/incoming-interceptors&gt;
        &lt;outgoing-interceptors&gt;
            &lt;class name="org.foo.outgoing.myInterceptor" module="org.foo" /&gt;
            &lt;class name="org.bar.outgoing.myOtherInterceptor" module="org.bar" /&gt;
        &lt;/outgoing-interceptors&gt;
   &lt;/server&gt;
&lt;/subsystem&gt;</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="jms-destinations">JMS Destinations</h5>
<div class="paragraph">
<p>In previous releases, JMS destination queues were configured in the
&lt;jms-destinations&gt; element under the hornetq-server section of the
<strong>messaging</strong> subsystem.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;jms-destinations&gt;
&lt;jms-queue name="testQueue"&gt;
&lt;entry name="queue/test"/&gt;
&lt;entry name="java:jboss/exported/jms/queue/test"/&gt;
&lt;/jms-queue&gt;
&lt;/jms-destinations&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In WildFly, the JMS destination queue is configured in the default
server of the messaging-activemq subsystem.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;jms-queue name="testQueue" entries="queue/test java:jboss/exported/jms/queue/test"/&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="messaging-logging">Messaging Logging</h4>
<div class="paragraph">
<p>The prefix of messaging log messages in WildFly is <strong>WFLYMSGAMQ</strong>, instead
of <strong>WFLYMSG</strong>.</p>
</div>
</div>
<div class="sect3">
<h4 id="messaging-data">Messaging Data</h4>
<div class="paragraph">
<p>The location of the messaging data has been changed in the new
messaging-activemq subsystem:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>messagingbindings/ &#8594; activemq/bindings/</p>
</li>
<li>
<p>messagingjournal/ &#8594; activemq/journal/</p>
</li>
<li>
<p>messaginglargemessages/ &#8594; activemq/largemessages/</p>
</li>
<li>
<p>messagingpaging/ &#8594; activemq/paging/</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To migrate legacy messaging data, you will have to export the
directories used by the legacy messaging subsystem and import them into
the new subsystem&#8217;s server by using its <code>import-journal operation:</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">/subsystem=messaging-activemq/server=default:import-journal(file=&lt;path to XML dump&gt;)</code></pre>
</div>
</div>
<div class="paragraph">
<p>The XML dump is a XML file generated by HornetQ <code>XmlDataExporter</code> util
class.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="application-migration">Application Migration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Before you migrate your application, you should be aware that some
features that were available in previous releases are now deprecated or
missing.</p>
</div>
<div class="sect2">
<h3 id="ejbs">EJBs</h3>
<div class="sect3">
<h4 id="cmp-entity-ejbs">CMP Entity EJBs</h4>
<div class="paragraph">
<p>Container-Managed Persistence entity beans support is optional in Java
EE 7, and WildFly does not provide support for these.</p>
</div>
<div class="paragraph">
<p>CMP entity beans are defined in the <strong>ejb-jar.xml</strong> descriptor, in
concrete an entity bean is CMP only if the <strong>&lt;entity/&gt;</strong>'s child element
named <strong>persistence-type</strong> is included and has a value of <strong>Container</strong>. An
example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.1" encoding="UTF-8"?&gt;
&lt;ejb-jar xmlns="http://java.sun.com/xml/ns/javaee"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/ejb-jar_3_1.xsd"
         version="3.1"&gt;
    &lt;enterprise-beans&gt;
        &lt;entity&gt;
            &lt;ejb-name&gt;SimpleBMP&lt;/ejb-name&gt;
            &lt;local-home&gt;org.jboss.as.test.integration.ejb.entity.bmp.BMPLocalHome&lt;/local-home&gt;
            &lt;local&gt;org.jboss.as.test.integration.ejb.entity.bmp.BMPLocalInterface&lt;/local&gt;
            &lt;ejb-class&gt;org.jboss.as.test.integration.ejb.entity.bmp.SimpleBMPBean&lt;/ejb-class&gt;
            &lt;persistence-type&gt;Container&lt;/persistence-type&gt;
            &lt;prim-key-class&gt;java.lang.Integer&lt;/prim-key-class&gt;
            &lt;reentrant&gt;true&lt;/reentrant&gt;
        &lt;/entity&gt;
    &lt;/enterprise-beans&gt;
&lt;/ejb-jar&gt; </code></pre>
</div>
</div>
<div class="paragraph">
<p>CMP entity beans should be replaced by JPA entities.</p>
</div>
</div>
<div class="sect3">
<h4 id="ejb-client">EJB Client</h4>
<div class="sect4">
<h5 id="default-remote-connection-port">Default Remote Connection Port</h5>
<div class="paragraph">
<p>The default remote connection port has changed from '4447' to '8080'.</p>
</div>
<div class="paragraph">
<p>In JBoss AS7, the <strong>jboss-ejb-client.properties</strong> file looked similar to
the following:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>remote.connectionprovider.create.options.org.xnio.Options.SSL_ENABLED=false
remote.connections=default
remote.connection.default.host=localhost
remote.connection.default.port=4447
remote.connection.default.connect.options.org.xnio.Options.SASL_POLICY_NOANONYMOUS=false</pre>
</div>
</div>
<div class="paragraph">
<p>In WildFly, the properties file looks like this:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>remote.connectionprovider.create.options.org.xnio.Options.SSL_ENABLED=false
remote.connections=default
remote.connection.default.host=localhost
remote.connection.default.port=8080
remote.connection.default.connect.options.org.xnio.Options.SASL_POLICY_NOANONYMOUS=false</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="default-connector">Default Connector</h5>
<div class="paragraph">
<p>In WildFly, the default connector has changed from "remoting" to
"http-remoting". This change impacts clients that use libraries from one
release of JBoss and to connect to server in a different release.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If a client application uses the EJB client library from JBoss AS 7
and wants to connect to WildFly 10 server, the server must be configured
to expose a remoting connector on a port other than "8080". The client
must then connect using that newly configured connector.</p>
</li>
<li>
<p>A client application that uses the EJB client library from WildFly 10
and wants to connect to a JBoss AS 7 server must be aware that the
server instance does not use the http-remoting connector and instead
uses a remoting connector. This is achieved by defining a new
client-side connection property.</p>
<div class="literalblock">
<div class="content">
<pre>remote.connection.default.protocol=remote</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>External applications using JNDI, to remotely lookup up EJBs in a
WildFly 10 server, may also need to be migrated, please refer to
<a href="#remote-jndi-clients">#Remote
JNDI Clients</a> section for further information.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="jms">JMS</h3>
<div class="sect3">
<h4 id="proprietary-jms-resource-definitions">Proprietary JMS Resource Definitions</h4>
<div class="paragraph">
<p>The proprietary XML descriptors, previously used to setup JMS resources,
are deprecated in WildFly. Java EE 7 (section EE.5.18) standardised such
functionality.</p>
</div>
<div class="paragraph">
<p>The deprecated descriptors are files bundled in the application package,
which name ends with <strong>-jms.xml</strong>.<br>
Their namespace has been changed to
<strong>urn:jboss:messaging-activemq-deployment:1.0</strong>.</p>
</div>
</div>
<div class="sect3">
<h4 id="external-jms-clients">External JMS Clients</h4>
<div class="paragraph">
<p>JMS Resources are remotely looked up using JNDI, and looking up
resources in a WildFly 10 server may require changes in the application
code, please refer to
<a href="#remote-jndi-clients">#Remote
JNDI Clients</a> section for further information.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="jpa-and-hibernate">JPA (and Hibernate)</h3>
<div class="sect3">
<h4 id="applications-that-plan-to-use-hibernate-orm-5.0">Applications That Plan to Use Hibernate ORM 5.0</h4>
<div class="paragraph">
<p>WildFly ships with Hibernate ORM 5.0 and those libraries are implicitly
added to the application classpath when a persistence.xml is detected
during deployment. If your application uses JPA, it will default to
using the Hibernate ORM 5.0 libraries.</p>
</div>
<div class="paragraph">
<p>Hibernate ORM 5.0 introduces:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Redesigned metamodel - Complete replacement for the current
org.hibernate.mapping code</p>
</li>
<li>
<p>Query parser - Improved query parser based on Antlr 3/4</p>
</li>
<li>
<p>Multi-tenancy improvements - Discriminator-based multi-tenancy</p>
</li>
<li>
<p>Follow-on fetches - Two-phase loading via LoadPlans/EntityGraphs</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="applications-that-currently-use-hibernate-orm-4.0---4.3">Applications that currently use Hibernate ORM 4.0 - 4.3</h4>
<div class="paragraph">
<p>If your application needs second-level cache enabled, you should migrate
to Hibernate ORM 5.0, which is integrated with Infinispan 8.0.
Applications written with Hibernate ORM 4.x can still use Hibernate 4.x
if you define a custom JBoss module with Hibernate 4.x JARs and exclude
the Hibernate 5 classes from your application. It is recommended that
you migrate your application to use Hibernate 5.</p>
</div>
<div class="paragraph">
<p>For information about the changes implemented between Hibernate 4 and
Hibernate 5, see
<a href="https://github.com/hibernate/hibernate-orm/blob/master/migration-guide.adoc" class="bare">https://github.com/hibernate/hibernate-orm/blob/master/migration-guide.adoc</a></p>
</div>
</div>
<div class="sect3">
<h4 id="applications-that-currently-use-hibernate-3">Applications that currently use Hibernate 3</h4>
<div class="paragraph">
<p>The integration classes that made it easier to use Hibernate 3 in AS 7
were removed from WildFly 10. If your application still uses Hibernate 3
libraries, it is strongly recommended that you migrate your application
to use Hibernate 5 as Hibernate 3 will no longer work in WildFly without
a lot of effort. If you can not migrate to Hibernate 5, you must define
a custom JBoss Module for the Hibernate 3 classes and exclude the
Hibernate 5 classes from your application.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="web-applications">Web Applications</h3>
<div class="sect3">
<h4 id="jboss-web-valves">JBoss Web Valves</h4>
<div class="paragraph">
<p>Undertow does not support the JBoss Web Valve functionality. This can be
replaced by Undertow Handlers (see
<a href="http://undertow.io/undertow-docs/undertow-docs-1.3.0/index.html#undertow-handler-authors-guide" class="bare">http://undertow.io/undertow-docs/undertow-docs-1.3.0/index.html#undertow-handler-authors-guide</a>
for more).</p>
</div>
<div class="paragraph">
<p>List of valves that were provided with JBoss Web, together with a
corresponding Undertow handler, is provided above, in the section on the
JBoss Web subsystem.</p>
</div>
<div class="paragraph">
<p>JBoss Web Valves are specified in the proprietary <strong>jboss-web.xml</strong>
descriptor, through <strong>&lt;valve /&gt;</strong> element(s). These can be replaced using
the <strong>&lt;http-handler /&gt;</strong> element(s). For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;jboss-web&gt;
    &lt;valve&gt;
        &lt;class-name&gt;org.apache.catalina.valves.RequestDumperValve&lt;/class-name&gt;
        &lt;module&gt;org.jboss.as.web&lt;/module&gt;
    &lt;/valve&gt;
&lt;/jboss-web&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>can be replaced by</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;jboss-web&gt;
    &lt;http-handler&gt;
        &lt;class-name&gt;io.undertow.server.handlers.RequestDumpingHandler&lt;/class-name&gt;
        &lt;module&gt;io.undertow.core&lt;/module&gt;
    &lt;/http-handler&gt;
&lt;/jboss-web&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="web-services">Web Services</h3>
<div class="sect3">
<h4 id="cxf-spring-webservices">CXF Spring Webservices</h4>
<div class="paragraph">
<p>The setup of web service&#8217;s endpoints and clients, through a Spring XML
descriptor, driving a CXF bus creation, is no longer supported in
WildFly.</p>
</div>
<div class="paragraph">
<p>Any application containing a jbossws-cxf.xml must migrate all
functionality specified in such XML descriptor, mostly already supported
by the JAX-WS specification, included in Java EE 7. It is still possible
to rely on direct Apache CXF API usage, loosing the Java EE portability
of the application, for instance when specific Apache CXF
functionalities are needed. Please refer to the Apache CXF Integration
document for further information.</p>
</div>
</div>
<div class="sect3">
<h4 id="jax-rpc">JAX-RPC</h4>
<div class="paragraph">
<p>JAX-RPC is an API for building Web services and clients that used remote
procedure calls (RPC) and XML, which was deprecated in Java EE 6, and is
no longer supported by WildFly.</p>
</div>
<div class="paragraph">
<p>JAX-RPC Web Services may be identified by the presence of the XML
descriptor named web services.xml, containing a
<strong>&lt;webservice-description/&gt;</strong> element that includes a child element named
<strong>&lt;jaxrpc-mapping-file/&gt;</strong>. An example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;webservices xmlns="http://java.sun.com/xml/ns/j2ee"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee http://www.ibm.com/webservices/xsd/j2ee_web_services_1_1.xsd" version="1.1"&gt;
    &lt;webservice-description&gt;
        &lt;webservice-description-name&gt;HelloService&lt;/webservice-description-name&gt;
        &lt;wsdl-file&gt;WEB-INF/wsdl/HelloService.wsdl&lt;/wsdl-file&gt;
        &lt;jaxrpc-mapping-file&gt;WEB-INF/mapping.xml&lt;/jaxrpc-mapping-file&gt;
        &lt;port-component&gt;
            &lt;port-component-name&gt;Hello&lt;/port-component-name&gt;
            &lt;wsdl-port&gt;HelloPort&lt;/wsdl-port&gt;
            &lt;service-endpoint-interface&gt;org.jboss.chap12.hello.Hello&lt;/service-endpoint-interface&gt;
            &lt;service-impl-bean&gt;
                &lt;servlet-link&gt;HelloWorldServlet&lt;/servlet-link&gt;
            &lt;/service-impl-bean&gt;
        &lt;/port-component&gt;
    &lt;/webservice-description&gt;
&lt;/webservices&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Applications using JAX-RPC should be migrated to use JAX-WS, the current
Java EE standard web service framework.</p>
</div>
</div>
<div class="sect3">
<h4 id="jax-rs-2.0">JAX-RS 2.0</h4>
<div class="paragraph">
<p>JSR 339: JAX-RS 2.0: The Java API for RESTful Web Services specification
is located here: <a href="https://jcp.org/en/jsr/detail?id=339" class="bare">https://jcp.org/en/jsr/detail?id=339</a></p>
</div>
<div class="paragraph">
<p>Some changes to the <code>MessageBodyWriter</code> interface may represent a
backward incompatible change with respect to JAX-RS 1.X.</p>
</div>
<div class="paragraph">
<p>Be sure to define an @Produces or @Consumes for your endpoints. Failure
to do so may result in an error similar to the following.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">org.jboss.resteasy.core.NoMessageBodyWriterFoundFailure: Could not find MessageBodyWriter for response object of type: &lt;OBJECT&gt; of media type: &lt;CONTENT_TYPE&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="rest-client-api">REST Client API</h4>
<div class="paragraph">
<p>Some REST Client API classes and methods are deprecated, for example:
org.jboss.resteasy.client.ClientRequest and
org.jboss.resteasy.client.ClientResponse. Instead, use
<a href="https://docs.jboss.org/resteasy/docs/3.0-rc-1/javadocs/index.html?org/jboss/resteasy/client/jaxrs/ResteasyClient.html">﻿org.jboss.resteasy.client.jaxrs.ResteasyClient</a>
and javax.ws.rs.core.Response. See the <code>resteasy-jaxrs-client
quickstart</code> for an example of an external JAX-RS RestEasy client that
interacts with a JAX-RS Web service.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="application-clustering">Application Clustering</h3>
<div class="sect3">
<h4 id="ha-singleton">HA Singleton</h4>
<div class="paragraph">
<p>JBoss AS7 introduced singleton services - a mechanism for installing an
service such that it would only start on one node in the cluster at a
time, a HA Singleton. Such mechanism required usage of a private JBoss
EAP Clustering API, designed around the class
<strong>org.jboss.as.clustering.singleton.SingletonService</strong>, and was documented
in detail at
<a href="https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.4/html/Development_Guide/Implement_an_HA_Singleton.html" class="bare">https://access.redhat.com/documentation/en-US/JBoss_Enterprise_Application_Platform/6.4/html/Development_Guide/Implement_an_HA_Singleton.html</a>
, and while not difficult to implement, the installation process
suffered from a couple shortcomings:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Installing multiple singleton services within a single deployment
caused the deployer to hang.</p>
</li>
<li>
<p>Installing a singleton service required the user to specify several
private module dependencies in /META-INF/MANIFEST.MF</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>WildFly 10 introduces a new public API for building such services, which
significantly simplifies the process, and solves the issues found in the
legacy solution. The JBoss EAP 7 Quickstart application named
<strong>cluster-ha-singleton</strong> examples a HA Singleton implementation using the
new API, and may be found at
<a href="https://github.com/jboss-developer/jboss-eap-quickstarts/tree/7.0.x-develop/cluster-ha-singleton" class="bare">https://github.com/jboss-developer/jboss-eap-quickstarts/tree/7.0.x-develop/cluster-ha-singleton</a>
.<br>
FIXME: community URLs instead</p>
</div>
</div>
<div class="sect3">
<h4 id="stateful-session-ejb-clustering">Stateful Session EJB Clustering</h4>
<div class="paragraph">
<p>WildFly 10 no longer requires Stateful Session EJBs to use the
<strong>org.jboss.ejb3.annotation.Clustered</strong> annotation to enable clustering
behaviour. By default, if the server is started using an HA profile, the
state of your SFSBs will be replicated automatically. Disabling this
behaviour is achievable on a per-EJB basis, by annotating your bean
using <strong>@Stateful(passivationCapable=false)</strong>, which is new to the EJB 3.2
specification; or globally through the configuration of the EJB3
subsystem, in the server configuration.</p>
</div>
<div class="paragraph">
<p>Note that the <strong>@Clustered</strong> annotation, if used by an application, is
simply ignored, the application deployment will not fail.</p>
</div>
</div>
<div class="sect3">
<h4 id="web-session-clustering">Web Session Clustering</h4>
<div class="paragraph">
<p>WildFly 10 introduces a new web session clustering implementation,
replacing the one found in AS7, which has been around for ages (since
JBoss AS 3.2!), and was tightly coupled to the legacy JBoss Web
subsystem source code. The most relevant changes in the new
implementation are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Introduction of a proper session manager SPI, and an Infinispan
implementation of it, decoupled from the web subsystem implementation</p>
</li>
<li>
<p>Sessions are implemented as a facade over one or more cache entries,
which means that the container&#8217;s session manager itself does not retain
a separate reference to each HttpSession</p>
</li>
<li>
<p>Pessimistic locking of cache entries effectively ensures that only a
single client on a single node ever accesses a given session at any
given time</p>
</li>
<li>
<p>Usage of cache entry grouping, instead of atomic maps, to ensure that
multiple cache entries belonging to the same session are co-located.</p>
</li>
<li>
<p>Session operations within a request only ever use a single
batch/transaction. This results in fewer RPCs per request.</p>
</li>
<li>
<p>Support for write-through cache stores, as well as passivation-only
cache stores.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>With respect to applications, the new web session clustering
implementation deprecates/reinterprets much of the related
configuration, which is included in JBoss&#8217;s proprietary web application
XML descriptor, <strong>jboss-web.xml</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>&lt;max-active-sessions/&gt;</strong><br>
Previously, session creation would fail if an additional session would
cause the number of active sessions to exceed the value specified by &lt;
<strong>max-active-sessions/&gt;</strong>.<br>
In the new implementation, <strong>&lt;max-active-sessions/&gt;</strong> is used to enable
session passivation. If session creation would cause the number of
active sessions to exceed <strong>&lt;max-active-sessions/&gt;</strong>, then the oldest
session known to the session manager will passivate to make room for the
new session.</p>
</li>
<li>
<p><strong>&lt;passivation-config/&gt;</strong><br>
This configuration element and its sub-elements are no longer used in
WildFly.</p>
</li>
<li>
<p><strong>&lt;use-session-passivation/&gt;</strong><br>
Previously, passivation was enabled via this attribute, yet in the new
implementation, passivation is enabled by specifying a non-negative
value for <strong>&lt;max-active-sessions/&gt;</strong>.</p>
</li>
<li>
<p><strong>&lt;passivation-min-idle-time/&gt;</strong><br>
Previously, sessions needed to be active for at least a specific amount
of time before becoming a candidate for passivation. This could cause
session creation to fail, even when passivation was enabled.<br>
The new implementation does not support this logic and thus avoids this
DoS vulnerability.</p>
</li>
<li>
<p><strong>&lt;passivation-max-idle-time/&gt;</strong><br>
Previously, a session would be passivated after it was idle for a
specific amount of time.<br>
The new implementation does not support eager passivation - only lazy
passivation. Sessions are only passivated when necessary to comply with
<strong>&lt;max-active-sessions/&gt;</strong>.</p>
</li>
<li>
<p><strong>&lt;replication-config/&gt;</strong><br>
The new implementation deprecates a number of sub-elements:</p>
</li>
<li>
<p><strong>&lt;replication-trigger/&gt;</strong><br>
Previously, session attributes could be treated as either mutable or
immutable depending on the values specified by <strong>&lt;replication-trigger/&gt;</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>SET treated all attributes as immutable, requiring a separate
HttpSession.setAttribute(&#8230;&#8203;) to indicate that the value changed.</p>
</li>
<li>
<p>SET_AND_GET treated all session attributes as mutable.</p>
</li>
<li>
<p>SET_AND_NON_PRIMITIVE_GET recognised a small set of types (i.e.
strings and boxed primitives) as immutable, and assumed that any other
attribute was mutable.<br>
The new implementation replaces this configuration option with a single,
robust strategy. Session attributes are assumed to be mutable unless one
of the following is true:</p>
</li>
<li>
<p>The value is a known immutable value:</p>
<div class="ulist">
<ul>
<li>
<p>null</p>
</li>
<li>
<p>java.util.Collections.EMPTY_LIST, EMPTY_MAP, EMPTY_SET</p>
</li>
</ul>
</div>
</li>
<li>
<p>The value type is or implements a known immutable type:</p>
<div class="ulist">
<ul>
<li>
<p>Boolean, Byte, Character, Double, Float, Integer, Long, Short</p>
</li>
<li>
<p>java.lang.Enum, StackTraceElement, String</p>
</li>
<li>
<p>java.io.File, java.nio.file.Path</p>
</li>
<li>
<p>java.math.BigDecimal, BigInteger, MathContext</p>
</li>
<li>
<p>java.net.InetAddress, InetSocketAddress, URI, URL</p>
</li>
<li>
<p>java.security.Permission</p>
</li>
<li>
<p>java.util.Currency, Locale, TimeZone, UUID</p>
</li>
</ul>
</div>
</li>
<li>
<p>The value type is annotated with
@org.wildfly.clustering.web.annotation.Immutable</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>&lt;use-jk/&gt;</strong><br>
Previously, the instance-id of the node handling a given request was
appended to the jsessionid (for use by load balancers such as mod_jk,
mod_proxy_balancer, mod_cluster, etc.) depending on the value specified
for <strong>&lt;use-jk/&gt;</strong>. In the new implementation, the instance-id, if defined,
is always appended to the jsessionid.</p>
</li>
<li>
<p><strong>&lt;max-unreplicated-interval/&gt;</strong><br>
Previously, this configuration option was an optimization that would
prevent the replicate of a session&#8217;s timestamp if no session attribute
was changed. While this sounds nice, in practice it doesn&#8217;t prevent any
RPCs, since session access requires cache transaction RPCs regardless of
whether any session attributes changed. In the new implementation, the
timestamp of a session is replicated on every request. This prevents
stale session meta data following failover.</p>
</li>
<li>
<p><strong>&lt;snapshot-mode/&gt;</strong><br>
Previously, one could configure <strong>&lt;snapshot-mode/&gt;</strong> as INSTANT or
INTERVAL. Infinispan&#8217;s replication queue renders this configuration
option obsolete.</p>
</li>
<li>
<p><strong>&lt;snapshot-interval/&gt;</strong><br>
Only relevant for <strong>&lt;snapshot-mode&gt;INTERVAL&lt;/snapshot-mode&gt;</strong>. See above.</p>
</li>
<li>
<p><strong>&lt;session-notification-policy/&gt;</strong><br>
Previously, the value defined by this attribute defined a policy for
triggering session events. In the new implementation, this behaviour is
spec-driven and not configurable.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="other-specifications-and-frameworks">Other Specifications and Frameworks</h3>
<div class="sect3">
<h4 id="remote-jndi-clients">Remote JNDI Clients</h4>
<div class="paragraph">
<p>WildFly 10&#8217;s default JNDI Provider URL has changed, which means that
external applications, using JNDI to lookup remote resources, for
instance an EJB or a JMS Queue, may need to change the value for the
JNDI <strong>InitialContext</strong> environment&#8217;s property named
<strong>java.naming.provider.url</strong>. The default URL scheme is now
<strong>http-remoting</strong>, and the default URL port is now <strong>8080</strong>.</p>
</div>
<div class="paragraph">
<p>As an example, considering the application server host is <strong>localhost</strong>,
then clients previously accessing JBoss AS7 would use</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">java.naming.factory.initial=org.jboss.naming.remote.client.InitialContextFactory
java.naming.provider.url=remote://localhost:4447</code></pre>
</div>
</div>
<div class="paragraph">
<p>while clients now accessing WildFly should use instead</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">java.naming.factory.initial=org.jboss.naming.remote.client.InitialContextFactory
java.naming.provider.url=http-remoting://localhost:8080</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="jsr-88">JSR-88</h4>
<div class="paragraph">
<p>The specification which aimed to standardise deployment tasks got very
little adoption, due to much more "feature rich" proprietary solutions
already included in every vendor application server. It was no surprise
that JSR-88 support was dropped from Java EE 7, and WildFly followed
that and dropped support too.</p>
</div>
<div class="paragraph">
<p>A JSR-88 deployment plan is identified by a XML descriptor named
<strong>deployment-plan.xml</strong>, bundled in a zip/jar archive.</p>
</div>
</div>
<div class="sect3">
<h4 id="module-dependencies">Module Dependencies</h4>
<div class="paragraph">
<p>Applications defining dependencies to WildFly modules, through the
application&#8217;s package MANIFEST.MF or jboss-deployment-structure.xml, may
be referencing missing modules. When migrating an application, relying
on such functionality, the presence of the referenced modules should be
validated in advance.</p>
</div>
</div>
</div>
</div>
</div>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/wildflysite/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Wildfly</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Wildfly</li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/wildfly"><svg class="svg-icon"><use xlink:href="/wildflysite/assets/minima-social-icons.svg#github"></use></svg> <span class="username">wildfly</span></a></li><li><a href="https://www.twitter.com/WildFlyAS"><svg class="svg-icon"><use xlink:href="/wildflysite/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">WildFlyAS</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p></p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
