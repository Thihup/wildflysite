<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Java_api_for_xml_web_services_(jax Ws) | Wildfly</title>
<meta name="generator" content="Jekyll v3.8.3" />
<meta property="og:title" content="Java_api_for_xml_web_services_(jax Ws)" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="[[Java_API_for_XML_Web_Services_(JAX-WS)]] = Java API for XML Web Services (JAX-WS)" />
<meta property="og:description" content="[[Java_API_for_XML_Web_Services_(JAX-WS)]] = Java API for XML Web Services (JAX-WS)" />
<link rel="canonical" href="https://jbossorg.github.io/wildflysite/docs/13/_javaee-guide/Java_API_for_XML_Web_Services_(JAX-WS).html" />
<meta property="og:url" content="https://jbossorg.github.io/wildflysite/docs/13/_javaee-guide/Java_API_for_XML_Web_Services_(JAX-WS).html" />
<meta property="og:site_name" content="Wildfly" />
<script type="application/ld+json">
{"description":"[[Java_API_for_XML_Web_Services_(JAX-WS)]] = Java API for XML Web Services (JAX-WS)","@type":"WebPage","url":"https://jbossorg.github.io/wildflysite/docs/13/_javaee-guide/Java_API_for_XML_Web_Services_(JAX-WS).html","headline":"Java_api_for_xml_web_services_(jax Ws)","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/wildflysite/assets/main.css"><link type="application/atom+xml" rel="alternate" href="https://jbossorg.github.io/wildflysite/feed.xml" title="Wildfly" /></head>
<body><div class="header navigation">
  <div class="logo-wrapper">
    <a href="/wildflysite/"><img class="wf-logo" src="/wildflysite/assets/img/wildfly_icons_one-color-logo.png"></a>
  </div>
  <div class="nav-container">
    <nav>
      <div class="nav-mobile"><a id="nav-toggle" href="#!"><span></span></a></div>
      <ul class="nav-list">
        <li>
          <a href="/wildflysite/" class="">Home</a>
        </li>
        <li>
          <a href="/wildflysite/downloads/" class="">Downloads</a>
        </li>
        <li>
          <a href="/wildflysite/blog/" class="">Blog</a>
        </li>
        <li>
          <a href="/wildflysite/about/" class="">About</a>
        </li>
        <li>
          <a href="/wildflysite/contribute/" class="">Contribute</a>
        </li>
        <li>
          <a href="/wildflysite/docs/" class="">Docs</a>
        </li>
        <li>
          <a class="button-cta secondary" href="https://github.com/wildfly/wildfly/fork" target="_blank">Fork</a>
        </li>
      </ul>
    </nav>
  </div>
</div>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <div class="paragraph">
<p>[[Java_API_for_XML_Web_Services_(JAX-WS)]]
= Java API for XML Web Services (JAX-WS)</p>
</div>
<div class="paragraph">
<p>JBossWS uses the JBoss Application Server as its target container. The
following examples focus on web service deployments that leverage EJB3
service implementations and the JAX-WS programming models. For further
information on POJO service implementations and advanced topics you need
consult the <a href="Developer_Guide.html#JAX-WS_User_Guide">user guide</a>.</p>
</div>
<div class="sect1">
<h2 id="developing-web-service-implementations">Developing web service implementations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>JAX-WS does leverage annotations in order to express web service meta
data on Java components and to describe the mapping between Java data
types and XML. When developing web service implementations you need to
decide whether you are going to start with an abstract contract (WSDL)
or a Java component.</p>
</div>
<div class="paragraph">
<p>If you are in charge to provide the service implementation, then you are
probably going to start with the implementation and derive the abstract
contract from it. You are probably not even getting in touch with the
WSDL unless you hand it to 3rd party clients. For this reason we are
going to look at a service implementation that leverages
<a href="http://www.jcp.org/en/jsr/summary?id=181">JSR-181 annotations</a>.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
Even though detailed knowledge of web service meta data is not required,
it will definitely help if you make yourself familiar with it. For
further information see
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://www.jcp.org/en/jsr/summary?id=181">Web service meta data
(JSR-181)</a></p>
</li>
<li>
<p><a href="http://www.jcp.org/en/jsr/summary?id=222">Java API for XML binding
(JAXB)</a></p>
</li>
<li>
<p><a href="http://www.jcp.org/en/jsr/summary?id=224">Java API for XML-Based Web
Services</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="the-service-implementation-class">The service implementation class</h3>
<div class="paragraph">
<p>When starting from Java you must provide the service implementation. A
valid endpoint implementation class must meet the following
requirements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>It <em>must</em> carry a <code>javax.jws.WebService</code> annotation (see JSR 181)</p>
</li>
<li>
<p>All method parameters and return types <em>must</em> be compatible with the
JAXB 2.0</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Let&#8217;s look at a sample EJB3 component that is going to be exposed as a
web service.</p>
</div>
<div class="paragraph">
<p>Don&#8217;t be confused with the EJB3 annotation <code>@Stateless</code>. We concentrate
on the <code>@WebService</code> annotation for now.</p>
</div>
<div class="sect3">
<h4 id="implementing-the-service">Implementing the service</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">package org.jboss.test.ws.jaxws.samples.retail.profile;
 
import javax.ejb.Stateless;
import javax.jws.WebService;
import javax.jws.WebMethod;
import javax.jws.soap.SOAPBinding;
 
@Stateless                                                             (1)
@WebService(                                                           (2)
   name="ProfileMgmt",
   targetNamespace = "http://org.jboss.ws/samples/retail/profile",
   serviceName = "ProfileMgmtService")
@SOAPBinding(parameterStyle = SOAPBinding.ParameterStyle.BARE)         (3)
public class ProfileMgmtBean {
 
   @WebMethod                                                          (4)
   public DiscountResponse getCustomerDiscount(DiscountRequest request) {
      return new DiscountResponse(request.getCustomer(), 10.00);
   }
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>1. We are using a stateless session bean implementation
2. Exposed a web service with an explicit namespace
3. It's a doc/lit bare endpoint
4. And offers an 'getCustomerDiscount' operation</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="what-about-the-payload">What about the payload?</h4>
<div class="paragraph">
<p>The method parameters and return values are going to represent our XML
payload and thus require being compatible with JAXB2. Actually you
wouldn&#8217;t need any JAXB annotations for this particular example, because
JAXB relies on meaningful defaults. For the sake of documentation we put
the more important ones here.</p>
</div>
<div class="paragraph">
<p>Take a look at the request parameter:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">package org.jboss.test.ws.jaxws.samples.retail.profile;
 
import javax.xml.bind.annotation.XmlAccessType;
import javax.xml.bind.annotation.XmlAccessorType;
import javax.xml.bind.annotation.XmlType;
 
import org.jboss.test.ws.jaxws.samples.retail.Customer;
 
@XmlAccessorType(XmlAccessType.FIELD)
@XmlType(                                                  (1)
  name = "discountRequest",
  namespace="http://org.jboss.ws/samples/retail/profile",
  propOrder = { "customer" }
)
public class DiscountRequest {
 
   protected Customer customer;
 
   public DiscountRequest() {
   }
 
   public DiscountRequest(Customer customer) {
      this.customer = customer;
   }
 
   public Customer getCustomer() {
      return customer;
   }
 
   public void setCustomer(Customer value) {
      this.customer = value;
   }
 
}</code></pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>1. In this case we use @XmlType to specify an XML complex type name and override the namespace.</pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
If you have more complex mapping problems you need to consult the
<a href="http://java.sun.com/webservices/jaxb/">JAXB documentation</a>.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="deploying-service-implementations">Deploying service implementations</h3>
<div class="paragraph">
<p>Service deployment basically depends on the implementation type. As you
may already know web services can be implemented as EJB3 components or
plain old Java objects. This quick start leverages EJB3 components,
that&#8217;s why we are going to look at this case in the next sections.</p>
</div>
<div class="sect3">
<h4 id="ejb3-services">EJB3 services</h4>
<div class="paragraph">
<p>Simply wrap up the service implementation class, the endpoint interface
and any custom data types in a JAR and drop them in the <em>deployment</em>
directory. No additional deployment descriptors required. Any meta data
required for the deployment of the actual web service is taken from the
annotations provided on the implementation class and the service
endpoint interface. JBossWS will intercept that EJB3 deployment (the
bean will also be there) and create an HTTP endpoint at deploy-time.</p>
</div>
</div>
<div class="sect3">
<h4 id="the-jar-package-structure">The JAR package structure</h4>
<div class="paragraph">
<p>jar -tf jaxws-samples-retail.jar</p>
</div>
<div class="paragraph">
<p>org/jboss/test/ws/jaxws/samples/retail/profile/DiscountRequest.class<br>
org/jboss/test/ws/jaxws/samples/retail/profile/DiscountResponse.class<br>
org/jboss/test/ws/jaxws/samples/retail/profile/ObjectFactory.class<br>
org/jboss/test/ws/jaxws/samples/retail/profile/ProfileMgmt.class<br>
org/jboss/test/ws/jaxws/samples/retail/profile/ProfileMgmtBean.class<br>
org/jboss/test/ws/jaxws/samples/retail/profile/ProfileMgmtService.class<br>
org/jboss/test/ws/jaxws/samples/retail/profile/package-info.class</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
If the deployment was successful you should be able to see your endpoint
in the application server management console.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="consuming-web-services">Consuming web services</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When creating web service clients you would usually start from the WSDL.
JBossWS ships with a set of tools to generate the required JAX-WS
artefacts to build client implementations. In the following section we
will look at the most basic usage patterns. For a more detailed
introduction to web service client please consult the user guide.</p>
</div>
<div class="sect2">
<h3 id="creating-the-client-artifacts">Creating the client artifacts</h3>
<div class="sect3">
<h4 id="using-wsconsume">Using wsconsume</h4>
<div class="paragraph">
<p>The <em>wsconsume</em> tool is used to consume the abstract contract (WSDL) and
produce annotated Java classes (and optionally sources) that define it.
We are going to start with the WSDL from our retail example
(ProfileMgmtService.wsdl). For a detailed tool reference you need to
consult the user guide.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>wsconsume is a command line tool that generates
portable JAX-WS artifacts from a WSDL file.

usage: org.jboss.ws.tools.jaxws.command.wsconsume [options] &lt;wsdl-url&gt;

options:
    -h, --help                  Show this help message
    -b, --binding=&lt;file&gt;        One or more JAX-WS or JAXB binding files
    -k, --keep                  Keep/Generate Java source
    -c  --catalog=&lt;file&gt;        Oasis XML Catalog file for entity resolution
    -p  --package=&lt;name&gt;        The target package for generated source
    -w  --wsdlLocation=&lt;loc&gt;    Value to use for @WebService.wsdlLocation
    -o, --output=&lt;directory&gt;    The directory to put generated artifacts
    -s, --source=&lt;directory&gt;    The directory to put Java source
    -q, --quiet                 Be somewhat more quiet
    -t, --show-traces           Show full exception stack traces</pre>
</div>
</div>
<div class="paragraph">
<p>Let&#8217;s try it on our sample:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>~./wsconsume.sh -k -p org.jboss.test.ws.jaxws.samples.retail.profile ProfileMgmtService.wsdl  (1)

org/jboss/test/ws/jaxws/samples/retail/profile/Customer.java
org/jboss/test/ws/jaxws/samples/retail/profile/DiscountRequest.java
org/jboss/test/ws/jaxws/samples/retail/profile/DiscountResponse.java
org/jboss/test/ws/jaxws/samples/retail/profile/ObjectFactory.java
org/jboss/test/ws/jaxws/samples/retail/profile/ProfileMgmt.java
org/jboss/test/ws/jaxws/samples/retail/profile/ProfileMgmtService.java
org/jboss/test/ws/jaxws/samples/retail/profile/package-info.java</pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>As you can see we did use the <code>-p</code> switch to specify the package
name of the generated sources.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="the-generated-artifacts-explained">The generated artifacts explained</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">File</th>
<th class="tableblock halign-left valign-top">Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ProfileMgmt.java</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Service Endpoint Interface</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Customer.java</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Custom data type</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Discount*.java</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Custom data type</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ObjectFactory.java</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">JAXB XML Registry</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">package-info.java</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Holder for JAXB package annotations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ProfileMgmtService.java</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Service factory</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Basically <em>wsconsume</em> generates all custom data types (JAXB annotated
classes), the service endpoint interface and a service factory class. We
will look at how these artifacts can be used the build web service
client implementations in the next section.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="constructing-a-service-stub">Constructing a service stub</h3>
<div class="paragraph">
<p>Web service clients make use of a service stubs that hide the details of
a remote web service invocation. To a client application a WS invocation
just looks like an invocation of any other business component. In this
case the service endpoint interface acts as the business interface.
JAX-WS does use a service factory class to construct this as particular
service stub:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">import javax.xml.ws.Service;
[...]
Service service = Service.create(                                 (1)
new URL("http://example.org/service?wsdl"),
new QName("MyService")
);
ProfileMgmt profileMgmt = service.getPort(ProfileMgmt.class);     (2)
 
// do something with the service stub here...                     (3)</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create a service factory using the WSDL location and the service
name</p>
</li>
<li>
<p>Use the tool created service endpoint interface to build the service
stub</p>
</li>
<li>
<p>Use the stub like any other business interface</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="appendix">Appendix</h3>
<div class="sect3">
<h4 id="sample-wsdl-contract">Sample wsdl contract</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">&lt;definitions
    name='ProfileMgmtService'
    targetNamespace='http://org.jboss.ws/samples/retail/profile'
    xmlns='http://schemas.xmlsoap.org/wsdl/'
    xmlns:ns1='http://org.jboss.ws/samples/retail'
    xmlns:soap='http://schemas.xmlsoap.org/wsdl/soap/'
    xmlns:tns='http://org.jboss.ws/samples/retail/profile'
    xmlns:xsd='http://www.w3.org/2001/XMLSchema'&gt;
 
   &lt;types&gt;
 
      &lt;xs:schema targetNamespace='http://org.jboss.ws/samples/retail'
                 version='1.0' xmlns:xs='http://www.w3.org/2001/XMLSchema'&gt;
         &lt;xs:complexType name='customer'&gt;
            &lt;xs:sequence&gt;
               &lt;xs:element minOccurs='0' name='creditCardDetails' type='xs:string'/&gt;
               &lt;xs:element minOccurs='0' name='firstName' type='xs:string'/&gt;
               &lt;xs:element minOccurs='0' name='lastName' type='xs:string'/&gt;
            &lt;/xs:sequence&gt;
         &lt;/xs:complexType&gt;
      &lt;/xs:schema&gt;
 
      &lt;xs:schema
          targetNamespace='http://org.jboss.ws/samples/retail/profile'
          version='1.0'
          xmlns:ns1='http://org.jboss.ws/samples/retail'
          xmlns:tns='http://org.jboss.ws/samples/retail/profile'
          xmlns:xs='http://www.w3.org/2001/XMLSchema'&gt;
 
         &lt;xs:import namespace='http://org.jboss.ws/samples/retail'/&gt;
         &lt;xs:element name='getCustomerDiscount'
                     nillable='true' type='tns:discountRequest'/&gt;
         &lt;xs:element name='getCustomerDiscountResponse'
                     nillable='true' type='tns:discountResponse'/&gt;
         &lt;xs:complexType name='discountRequest'&gt;
            &lt;xs:sequence&gt;
               &lt;xs:element minOccurs='0' name='customer' type='ns1:customer'/&gt;
 
            &lt;/xs:sequence&gt;
         &lt;/xs:complexType&gt;
         &lt;xs:complexType name='discountResponse'&gt;
            &lt;xs:sequence&gt;
               &lt;xs:element minOccurs='0' name='customer' type='ns1:customer'/&gt;
               &lt;xs:element name='discount' type='xs:double'/&gt;
            &lt;/xs:sequence&gt;
         &lt;/xs:complexType&gt;
      &lt;/xs:schema&gt;
 
   &lt;/types&gt;
 
   &lt;message name='ProfileMgmt_getCustomerDiscount'&gt;
      &lt;part element='tns:getCustomerDiscount' name='getCustomerDiscount'/&gt;
   &lt;/message&gt;
   &lt;message name='ProfileMgmt_getCustomerDiscountResponse'&gt;
      &lt;part element='tns:getCustomerDiscountResponse'
            name='getCustomerDiscountResponse'/&gt;
   &lt;/message&gt;
   &lt;portType name='ProfileMgmt'&gt;
      &lt;operation name='getCustomerDiscount'
                 parameterOrder='getCustomerDiscount'&gt;
 
         &lt;input message='tns:ProfileMgmt_getCustomerDiscount'/&gt;
         &lt;output message='tns:ProfileMgmt_getCustomerDiscountResponse'/&gt;
      &lt;/operation&gt;
   &lt;/portType&gt;
   &lt;binding name='ProfileMgmtBinding' type='tns:ProfileMgmt'&gt;
      &lt;soap:binding style='document'
                    transport='http://schemas.xmlsoap.org/soap/http'/&gt;
      &lt;operation name='getCustomerDiscount'&gt;
         &lt;soap:operation soapAction=''/&gt;
         &lt;input&gt;
 
            &lt;soap:body use='literal'/&gt;
         &lt;/input&gt;
         &lt;output&gt;
            &lt;soap:body use='literal'/&gt;
         &lt;/output&gt;
      &lt;/operation&gt;
   &lt;/binding&gt;
   &lt;service name='ProfileMgmtService'&gt;
      &lt;port binding='tns:ProfileMgmtBinding' name='ProfileMgmtPort'&gt;
 
         &lt;soap:address
             location='http://&lt;HOST&gt;:&lt;PORT&gt;/jaxws-samples-retail/ProfileMgmtBean'/&gt;
      &lt;/port&gt;
   &lt;/service&gt;
&lt;/definitions&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/wildflysite/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Wildfly</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Wildfly</li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/wildfly"><svg class="svg-icon"><use xlink:href="/wildflysite/assets/minima-social-icons.svg#github"></use></svg> <span class="username">wildfly</span></a></li><li><a href="https://www.twitter.com/WildFlyAS"><svg class="svg-icon"><use xlink:href="/wildflysite/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">WildFlyAS</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p></p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
