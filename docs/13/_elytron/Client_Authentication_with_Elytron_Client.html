<!DOCTYPE html>
<html>

<head>
  <script id="adobe_dtm" src="//www.redhat.com/dtm.js" type="text/javascript"></script>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <link rel="shortcut icon" type="image/png" href="/wildflysite/favicon.ico" >
  <link rel="stylesheet" href="/wildflysite/assets/css/main.css" />
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt" crossorigin="anonymous">
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-125236544-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
 
    gtag('config', 'UA-125236544-1');
  </script>


</head>

<body class="Client Authentication with Elytron Client">
  <div class="header-banner">
  <p>This site is in beta. Please share feedback by creating an <a href="https://github.com/jbossorg/wildflysite/issues/new" target="_blank">issue ticket</a>.</p>
</div>

  <div class="content">
    <div class="header navigation">
  <div class="logo-wrapper">
    <a href="/wildflysite/"><img class="wf-logo" src="/wildflysite/assets/img/wildfly_icons_one-color-logo.png"></a>
  </div>
  <div class="nav-container">
    <nav>
      <div class="nav-mobile"><a id="nav-toggle" href="#!"><span></span></a></div>
      <ul class="nav-list">
        <li>
          <a href="/wildflysite/" class="">Home</a>
        </li>
        <li>
          <a href="/wildflysite/downloads/" class="">Downloads</a>
        </li>
        <li>
          <a href="/wildflysite/blog/" class="">Blog</a>
        </li>
        <li>
          <a href="/wildflysite/about/" class="">About</a>
        </li>
        <li>
          <a href="/wildflysite/contribute/" class="">Contribute</a>
        </li>
        <li>
          
            <a href="/wildflysite/docs/15/" class="active">Docs</a>
          
        </li>
        <li>
          <a class="button-cta secondary" href="https://github.com/wildfly/wildfly/fork" target="_blank">Fork</a>
        </li>
      </ul>
    </nav>
  </div>
</div>

    <div class="docs-page grid-wrapper">
  <div class="grid__item width-12-12 docs-v-icons">
    <a href="/wildflysite/docs/14/" ><img src="/wildflysite/assets/img/docs/wildfly_icons_docs-14-inactive.png"></a>
    <a href="/wildflysite/docs/13/" ><img src="/wildflysite/assets/img/docs/wildfly_icons_docs-13-active.png"></a>
    <a href="https://docs.wildfly.org/12/" target="_blank"><img src="/wildflysite/assets/img/docs/wildfly_icons_docs-12-inactive.png"></a>
    <img src="/wildflysite/assets/img/docs/wildfly_icons_docs-11-coming.png">
    <img src="/wildflysite/assets/img/docs/wildfly_icons_docs-10-coming.png">
    <img src="/wildflysite/assets/img/docs/wildfly_icons_docs-09-coming.png">
    <img src="/wildflysite/assets/img/docs/wildfly_icons_docs-08-coming.png">
  </div>
  <div class="grid__item width-12-12"><h1 class="title">Client Authentication with Elytron Client</h1></div>
  <div class="grid__item width-3-12 doc-toc"><ul class="inline_toc">
  <li><a href="#the-configuration-file-approach">The Configuration File Approach</a></li>
  <li><a href="#the-programmatic-approach">The Programmatic Approach</a></li>
  <li><a href="#the-default-configuration-approach">The Default Configuration Approach</a></li>
  <li><a href="#using-elytron-client-with-clients-deployed-to-wildfly">Using Elytron Client with Clients Deployed to WildFly</a></li>
  <li><a href="#Configuring_other_clients_using_wildfly-config">Client configuration using wildfly-config.xml</a>
    <ul>
      <li><a href="#configure-ejb-client-connections-global-interceptors-and-invocation-timeout">Configure EJB client connections, global interceptors, and invocation timeout</a></li>
      <li><a href="#configure-http-client">Configure HTTP client</a></li>
      <li><a href="#configure-a-remoting-endpoint">Configure a remoting endpoint</a></li>
      <li><a href="#configure-the-default-xnio-worker">Configure the default XNIO worker</a></li>
    </ul>
  </li>
</ul></div>
  <div class="grid__item width-9-12 doc-content"><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>WildFly Elytron uses the Elytron Client project to enable remote clients
to authenticate using Elytron. Elytron Client has the following
components:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Component</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Authentication Configuration</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contains authentication information such
as usernames, passwords, allowed SASL mechanisms, and the security realm
to use during digest authentication.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MatchRule</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rule used for deciding which authentication configuration to
use.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Authentication Context</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set of rules and authentication configurations
to use with a client for establishing a connection.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>When a connection is established, the client makes use of an
authentication context, which gives rules that match which
authentication configuration is used with an outbound connection. For
example, you could have a rules that use one authentication
configuration when connecting to <em>server1</em> and another authentication
configuration when connecting with <em>server2</em>. The authentication context
is comprised of a set of authentication configurations and a set of
rules that define how they are selected when establishing a connection.
An authentication context can also reference <em>ssl-context</em> and can be
matched with rules.</p>
</div>
<div class="paragraph">
<p>To create a client that uses security information when establishing a
connection:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Create one or more authentication configurations.</p>
</li>
<li>
<p>Create an authentication context by creating rule and authentication
configuration pairs.</p>
</li>
<li>
<p>Create a runnable for establishing your connection.</p>
</li>
<li>
<p>Use your authentication context to run your runnable.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When you establish your connection, Elytron Client will use the set of
rules provided by the authentication context to match the correct
authentication configuration to use during authentication.</p>
</div>
<div class="paragraph">
<p>You can use one of the following approaches to use security information
when establishing a client connection.</p>
</div>
<div class="paragraph">
<p><strong>IMPORTANT</strong>: When using Elytron Client to make EJB calls, any hard-coded
programatic authentication information, such as setting
<em>Context.SECURITY_PRINCIPAL</em> in the <em>javax.naming.InitialContext</em>, will
override the Elytron Client configuration.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="the-configuration-file-approach">The Configuration File Approach</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The configuration file approach involves creating an XML file with your
authentication configuration, authentication context, and match rules.</p>
</div>
<div class="paragraph">
<p><strong>custom-config.xml</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;configuration&gt;
    &lt;authentication-client xmlns="urn:elytron:1.0"&gt;
        &lt;authentication-rules&gt;
            &lt;rule use-configuration="monitor"&gt;
                &lt;match-host name="127.0.0.1" /&gt;
            &lt;/rule&gt;
            &lt;rule use-configuration="administrator"&gt;
                &lt;match-host name="localhost" /&gt;
            &lt;/rule&gt;
        &lt;/authentication-rules&gt;
        &lt;authentication-configurations&gt;
            &lt;configuration name="monitor"&gt;
                &lt;allow-sasl-mechanisms names="DIGEST-MD5" /&gt;
                 &lt;use-service-loader-providers /&gt;
                 &lt;set-user-name name="monitor" /&gt;
                 &lt;credentials&gt;
                     &lt;clear-password password="password1!" /&gt;
                 &lt;/credentials&gt;
                 &lt;set-mechanism-realm name="ManagementRealm" /&gt;
             &lt;/configuration&gt;

             &lt;configuration name="administrator"&gt;
                &lt;allow-sasl-mechanisms names="DIGEST-MD5" /&gt;
                 &lt;use-service-loader-providers /&gt;
                 &lt;set-user-name name="administrator" /&gt;
                 &lt;credentials&gt;
                     &lt;clear-password password="password1!" /&gt;
                 &lt;/credentials&gt;
                 &lt;set-mechanism-realm name="ManagementRealm" /&gt;
             &lt;/configuration&gt;
        &lt;/authentication-configurations&gt;
    &lt;/authentication-client&gt;
&lt;/configuration&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can then reference that file in your client&#8217;s code by setting a
system property when running your client.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ java -Dwildfly.config.url=/path/to/the.xml .....</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>IMPORTANT</strong>: If you use the
<a href="#the-programmatic-approach">The
Programmatic Approach</a>, it will override any provided configuration
files even if the <em>wildfly.config.url</em> system property is set.</p>
</div>
<div class="paragraph">
<p>When creating rules, you can look for matches on various parameters such
as hostname, port, protocol, or username. A full list of options for
<em>MatchRule</em> are available in the
<a href="http://wildfly-security.github.io/wildfly-elytron/org/wildfly/security/auth/client/MatchRule.html">Javadocs</a>.
Rules are evaluated in the order in which they are configured.</p>
</div>
<div class="paragraph">
<p><strong>Common Rules</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Rule</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">match-domain</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Takes a single name attribute specifying the security
domain to match against.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">match-host</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Takes a single name attribute specifying the hostname to
match against. For example, the host 127.0.0.1 would match on
<a href="http://127.0.0.1:9990/my/path" class="bare">http://127.0.0.1:9990/my/path</a> .</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">match-no-userinfo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Matches against URIs with no userinfo.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">match-path</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Takes a single name attribute specifying the path to match
against. For example, the path /my/path/ would match on
<a href="http://127.0.0.1:9990/my/path" class="bare">http://127.0.0.1:9990/my/path</a> .</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">match-port</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Takes a single name attribute specifying the port to match
against. For example, the port 9990 would match on
<a href="http://127.0.0.1:9990/my/path" class="bare">http://127.0.0.1:9990/my/path</a> .</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">match-protocol</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Takes a single name attribute specifying the protocol
to match against. For example, the protocol http would match on
<a href="http://127.0.0.1:9990/my/path" class="bare">http://127.0.0.1:9990/my/path</a> .</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">match-purpose</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Takes a names attribute specifying the list of purposes
to match against.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">match-urn</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Takes a single name attribute specifying the URN to match
against.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">match-userinfo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Takes a single name attribute specifying the userinfo
to match against.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="the-programmatic-approach">The Programmatic Approach</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The programatic approach configures all the Elytron Client configuration
in the client&#8217;s code:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">//create your authentication configuration
AuthenticationConfiguration adminConfig =
    AuthenticationConfiguration.EMPTY
      .useProviders(() -&gt; new Provider[] { new WildFlyElytronProvider() })
      .allowSaslMechanisms("DIGEST-MD5")
      .useRealm("ManagementRealm")
      .useName("administrator")
      .usePassword("password1!");
 
//create your authentication context
AuthenticationContext context = AuthenticationContext.empty();
context = context.with(MatchRule.ALL.matchHost("127.0.0.1"), adminConfig);
 
 
//create your runnable for establishing a connection
Runnable runnable =
    new Runnable() {
      public void run() {
        try {
           //Establish your connection and do some work
        } catch (Exception e) {
          e.printStackTrace();
        }
      }
    };
 
//use your authentication context to run your client
context.run(runnable);</code></pre>
</div>
</div>
<div class="paragraph">
<p>When adding configuration details to <em>AuthenticationConfiguration</em> and
<em>AuthenticationContext</em>, each method call returns a new instance of that
object. For example, if you wanted separate configurations when
connecting over different hostnames, you could do the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">//create your authentication configuration
AuthenticationConfiguration commonConfig =
    AuthenticationConfiguration.EMPTY
      .useProviders(() -&gt; new Provider[] { new WildFlyElytronProvider() })
      .allowSaslMechanisms("DIGEST-MD5")
      .useRealm("ManagementRealm");
 
AuthenticationConfiguration administrator =
    commonConfig
      .useName("administrator")
      .usePassword("password1!");


AuthenticationConfiguration monitor =
    commonConfig
      .useName("monitor")
      .usePassword("password1!");
 
 
//create your authentication context
AuthenticationContext context = AuthenticationContext.empty();
context = context.with(MatchRule.ALL.matchHost("127.0.0.1"), administrator);
context = context.with(MatchRule.ALL.matchHost("localhost"), monitor);</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Common Rules</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Rule</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">matchLocalSecurityDomain(String name)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This is the same as match-domain
in the configuration file approach.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">matchNoUser()</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This is the same as match-no-user in the configuration
file approach.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">matchPath(String pathSpec)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This is the same as match-path in the
configuration file approach.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">matchPort(int port)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This is the same as match-port in the
configuration file approach.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">matchProtocol(String protoName)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This is the same as match-port in the
configuration file approach.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">matchPurpose(String purpose)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Create a new rule which is the same as
this rule, but also matches the given purpose name.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">matchPurposes(String&#8230;&#8203; purposes)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This is the same as match-purpose in
the configuration file approach.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">matchUrnName(String name)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This is the same as match-urn in the
configuration file approach.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">matchUser(String userSpec)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This is the same as match-userinfo in the
configuration file approach.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Also, instead of starting with an empty authentication configuration,
you can start with the current configured one by using
<em>captureCurrent()</em>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">//create your authentication configuration
AuthenticationConfiguration commonConfig = AuthenticationConfiguration.captureCurrent();</code></pre>
</div>
</div>
<div class="paragraph">
<p>Using <em>captureCurrent()</em> will capture any previously established
authentication context and use it as your new base configuration. A
authentication context is established once its been activated by calling
<em>run()</em>. If <em>captureCurrent()</em> is called and no context is currently
active, it will try and use the default authentication if available. You
can find more details about this in
<a href="#the-configuration-file-approach">The
Configuration File Approach</a>,
<a href="#the-default-configuration-approach">The
Default Configuration Approach</a>, and
<a href="#src-557099_ClientAuthenticationwithElytronClient-UsingElytronClientwithClientsDeployedtoWildFly">Using
Elytron Client with Clients Deployed to WildFly</a> sections.</p>
</div>
<div class="paragraph">
<p>Using <em>AuthenticationConfiguration.EMPTY</em> should only be used as a base
to build a configuration on top of and should not be used on its own. It
provides a configuration that uses the JVM-wide registered providers and
enables anonymous authentication.</p>
</div>
<div class="paragraph">
<p>When specifying the providers on top of the
<em>AuthenticationConfiguration.EMPTY</em> configuration, you can specify a
custom list, but most users should use <em>WildFlyElytronProvider()</em>
providers.</p>
</div>
<div class="paragraph">
<p>When creating an authentication context, using the <em>context.with(&#8230;&#8203;)</em>
will create a new context that merges the rules and authentication
configuration from the current context with the provided rule and
authentication configuration. The provided rule and authentication
configuration will appear after the ones in the current context.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="the-default-configuration-approach">The Default Configuration Approach</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The default configuration approach relies completely on the
configuration provided by Elytron Client:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">//create your runnable for establishing a connection
Runnable runnable =
    new Runnable() {
      public void run() {
        try {
           //Establish your connection and do some work
        } catch (Exception e) {
          e.printStackTrace();
        }
      }
    };
 
// run runnable directly
runnable.run();</code></pre>
</div>
</div>
<div class="paragraph">
<p>To provide a default configuration, Elytron Client tries to
auto-discover a <em>wildfly-config.xml</em> file on the filesystem. It looks in
the following locations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Location specified by the <em>wildfly.config.url</em> system property set
outside of the client code.</p>
</li>
<li>
<p>The classpath root directory.</p>
</li>
<li>
<p>The <em>META-INF</em> directory on the classpath.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If it does not find one, it will try and use the default
<em>wildfly-config.xml</em> provided in the
<em>$WILDFLY_HOME/bin/client/jboss-client.jar</em>.</p>
</div>
<div class="paragraph">
<p><strong>default wildfly-config.xml</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;configuration&gt;
  &lt;authentication-client xmlns="urn:elytron:1.0"&gt;
    &lt;authentication-rules&gt;
      &lt;rule use-configuration="default" /&gt;
    &lt;/authentication-rules&gt;
    &lt;authentication-configurations&gt;
      &lt;configuration name="default"&gt;
        &lt;allow-all-sasl-mechanisms /&gt;
        &lt;set-mechanism-properties&gt;
          &lt;property key="wildfly.sasl.local-user.quiet-auth" value="true" /&gt;
        &lt;/set-mechanism-properties&gt;
        &lt;use-service-loader-providers /&gt;
      &lt;/configuration&gt;
    &lt;/authentication-configurations&gt;
  &lt;/authentication-client&gt;
&lt;/configuration&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="using-elytron-client-with-clients-deployed-to-wildfly">Using Elytron Client with Clients Deployed to WildFly</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Clients deployed to WildFly can also make use of Elytron Client. In
cases where you have included a <em>wildfly-config.xml</em> with your
deployment or the system property has been set, an
<em>AuthenticationContext</em> is automatically parsed and created from that
file.</p>
</div>
<div class="paragraph">
<p>To load a configuration file outside of the deployment, you can use the
<em>parseAuthenticationClientConfiguration(URI)</em> method. This method will
return an <em>AuthentcationContext</em> which you can then use in your client&#8217;s
code using the
<a href="#the-programmatic-approach">The
Programmatic Approach</a>.</p>
</div>
<div class="paragraph">
<p>Additionally, clients will also automatically parse and create an
AuthenticationContext from the client configuration provided by the
<em>elytron</em> subsystem. The client configuration in the <em>elytron</em> subsystem
can also take advantage of other components defined in the <em>elytron</em>
subsystem such as credential stores. If client configuration is provided
by BOTH the deployment and the <em>elytron</em> subsystem, the <em>elytron</em>
subsystem&#8217;s configuration is used.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Configuring_other_clients_using_wildfly-config">Client configuration using wildfly-config.xml</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Prior to WildFly 11, many WildFly client libraries used different configuration strategies. WildFly 11 introduces a new <code>wildfly-config.xml</code> file which unifies all client configuration in a single place. In addition to being able to configure authentication using Elytron as described in the previous section, a <code>wildfly-config.xml</code> file can also be used to:</p>
</div>
<div class="sect2">
<h3 id="configure-ejb-client-connections-global-interceptors-and-invocation-timeout">Configure EJB client connections, global interceptors, and invocation timeout</h3>
<div class="paragraph">
<p>Schema location: [<a href="https://github.com/wildfly/jboss-ejb-client/blob/4.0.2.Final/src/main/resources/schema/wildfly-client-ejb_3_0.xsd" class="bare">https://github.com/wildfly/jboss-ejb-client/blob/4.0.2.Final/src/main/resources/schema/wildfly-client-ejb_3_0.xsd</a>]</p>
</div>
<div class="paragraph">
<p>Example configuration:</p>
</div>
<div class="listingblock">
<div class="title">wildfly-config.xml</div>
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;configuration&gt;
...
    &lt;jboss-ejb-client xmlns="urn:jboss:wildfly-client-ejb:3.0"&gt;
        &lt;invocation-timeout seconds="10"/&gt;
        &lt;connections&gt;
            &lt;connection uri="remote+http://10.20.30.40:8080"/&gt;
        &lt;/connections&gt;
        &lt;global-interceptors&gt;
            &lt;interceptor class="org.jboss.example.ExampleInterceptor"/&gt;
        &lt;/global-interceptors&gt;
    &lt;/jboss-ejb-client&gt;
...
&lt;/configuration&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configure-http-client">Configure HTTP client</h3>
<div class="paragraph">
<p>Schema location:[<a href="https://github.com/wildfly/wildfly-http-client/blob/1.0.2.Final/common/src/main/resources/schema/wildfly-http-client_1_0.xsd" class="bare">https://github.com/wildfly/wildfly-http-client/blob/1.0.2.Final/common/src/main/resources/schema/wildfly-http-client_1_0.xsd</a>]</p>
</div>
<div class="paragraph">
<p>Example configuration:</p>
</div>
<div class="listingblock">
<div class="title">wildfly-config.xml</div>
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;configuration&gt;
...
    &lt;http-client xmlns="urn:wildfly-http-client:1.0"&gt;
        &lt;defaults&gt;
            &lt;eagerly-acquire-session value="true" /&gt;
            &lt;buffer-pool buffer-size="2000" max-size="10" direct="true" thread-local-size="1" /&gt;
        &lt;/defaults&gt;
    &lt;/http-client&gt;
...
&lt;/configuration&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configure-a-remoting-endpoint">Configure a remoting endpoint</h3>
<div class="paragraph">
<p>Schema location:[<a href="https://github.com/jboss-remoting/jboss-remoting/blob/5.0.1.Final/src/main/resources/schema/jboss-remoting_5_0.xsd" class="bare">https://github.com/jboss-remoting/jboss-remoting/blob/5.0.1.Final/src/main/resources/schema/jboss-remoting_5_0.xsd</a>]</p>
</div>
<div class="paragraph">
<p>Example configuration:</p>
</div>
<div class="listingblock">
<div class="title">wildfly-config.xml</div>
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;configuration&gt;
...
    &lt;endpoint xmlns="urn:jboss-remoting:5.0"&gt;
        &lt;connections&gt;
            &lt;connection destination="remote+http://10.20.30.40:8080" read-timeout="50" write-timeout="50" heartbeat-interval="10000"/&gt;
        &lt;/connections&gt;
    &lt;/endpoint&gt;
...
&lt;/configuration&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configure-the-default-xnio-worker">Configure the default XNIO worker</h3>
<div class="paragraph">
<p>Schema location:[<a href="https://github.com/xnio/xnio/blob/3.5.1.Final/api/src/main/resources/schema/xnio_3_5.xsd" class="bare">https://github.com/xnio/xnio/blob/3.5.1.Final/api/src/main/resources/schema/xnio_3_5.xsd</a>]</p>
</div>
<div class="paragraph">
<p>Example configuration:</p>
</div>
<div class="paragraph">
<p><strong>wildfly-config.xml</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;configuration&gt;
...
    &lt;worker xmlns="urn:xnio:3.5"&gt;
        &lt;io-threads value="10"/&gt;
        &lt;task-keepalive value="100"/&gt;
        &lt;stack-size value="5000"/&gt;
    &lt;/worker&gt;
...
&lt;/configuration&gt;</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Note that WildFly client libraries do have reasonable default configuration. Thus, adding configuration for these clients to <code>wildfly-config.xml</code> isn’t mandatory.
</td>
</tr>
</table>
</div>
</div>
</div>
</div></div>
</div>



  </div>

  <div class="content project-footer">
  <div class="footer-section">
    <div class="logo-wrapper">
      <a href="/wildflysite/"><img class="wf-logo" src="/wildflysite/assets/img/wildfly_icons_one-color-logo.png"></a>
    </div>
  </div>
  <div class="grid-wrapper">
    <p class="grid__item width-3-12">WildFly is open. All dependencies of this project are available under the <a href='https://www.gnu.org/licenses/old-licenses/lgpl-2.1.en.html' target='_blank'>LGPL 2.1</a> or compatible license.<br/><br/>This website was built with <a href='https://jekyllrb.com/' target='_blank'>Jekyll</a> is hosted on <a href='https://pages.github.com/' target='_blank'>Github Pages</a> and is completely open source. If you want to make it better, <a href='https://github.com/wildfly/wildfly.org/fork' target='_blank'>fork it</a> and show us what you’ve got.</p>

    
      <div class="width-1-12 project-links">
        <strong>Navigation</strong>
        <ul class="footer-links width-1-12">
          
            <li><a href="/wildflysite/downloads">Downloads</a></li>
          
            <li><a href="/wildflysitef/docs">Docs</a></li>
          
            <li><a href="https://github.com/wildfly/wildfly">Github</a></li>
          
        </ul>
      </div>
    
      <div class="width-1-12 project-links">
        <strong>Contribute</strong>
        <ul class="footer-links width-1-12">
          
            <li><a href="https://issues.jboss.org/browse/WFLY">Submit a bug</a></li>
          
            <li><a href="https://community.jboss.org/en/wildfly?view=discussion">Join the forum</a></li>
          
            <li><a href="https://github.com/wildfly/wildfly/fork">Fork WildFly</a></li>
          
            <li><a href="https://twitter.com/WildFlyAS">Follow us</a></li>
          
        </ul>
      </div>
    
      <div class="width-1-12 project-links">
        <strong>Get Help</strong>
        <ul class="footer-links width-1-12">
          
            <li><a href="https://community.jboss.org/en/wildfly?view=discussion">Join the forum</a></li>
          
            <li><a href="https://www.hipchat.com/gFOhnVQke">Join HipChat</a></li>
          
        </ul>
      </div>
    

    
      <div class="width-6-12 more-links">
        <strong>Find more Red Hat Middleware Community Projects</strong>
        <ul class="footer-links">
          
            <li><a href="https://www.apiman.io/">APIMan</a></li>
          
            <li><a href="http://arquillian.org">Arquillian</a></li>
          
            <li><a href="http://byteman.jboss.org/">Byteman</a></li>
          
            <li><a href="http://capedwarf.org/">CapeDwarf</a></li>
          
            <li><a href="https://github.com/alechenninger/chronicler">Chronicler</a></li>
          
            <li><a href="https://github.com/darcy-framework">Darcy</a></li>
          
            <li><a href="http://debezium.io/">Debezium</a></li>
          
            <li><a href="https://www.drools.org/">Drools</a></li>
          
            <li><a href="http://gatein.jboss.org/">GateIn</a></li>
          
            <li><a href="http://www.hawkular.org/">Hawkular</a></li>
          
            <li><a href="http://hawt.io/">Hawtio</a></li>
          
            <li><a href="http://hibernate.org/">Hibernate</a></li>
          
            <li><a href="http://www.infinispan.org/">Infinispan</a></li>
          
            <li><a href="https://devstudio.jboss.com/">JBoss DevStudio</a></li>
          
            <li><a href="http://forge.jboss.org/">JBoss Forge</a></li>
          
            <li><a href="https://github.com/jboss-logging">JBoss Logging</a></li>
          
            <li><a href="http://jbossremoting.jboss.org/">JBoss Remoting</a></li>
          
            <li><a href="https://www.jbpm.org/">jBPM</a></li>
          
            <li><a href="https://jsfunit.jboss.org/">JSFUnit</a></li>
          
            <li><a href="https://www.keycloak.org/">Keycloak</a></li>
          
            <li><a href="http://modcluster.io/">Mod Cluster</a></li>
          
            <li><a href="http://modeshape.jboss.org/">ModeShape</a></li>
          
            <li><a href="https://www.optaplanner.org/">OptaPlanner</a></li>
          
            <li><a href="https://picketbox.jboss.org/">Picketbox</a></li>
          
            <li><a href="http://resteasy.jboss.org/">RESTEasy</a></li>
          
            <li><a href="https://riftsaw.jboss.org/">Riftsaw</a></li>
          
            <li><a href="http://savara.jboss.org/">Savara</a></li>
          
            <li><a href="http://seamframework.org/">Seam</a></li>
          
            <li><a href="http://arquillian.org/">Shrinkwrap</a></li>
          
            <li><a href="http://snowdrop.jboss.org/">Snowdrop</a></li>
          
            <li><a href="https://switchyard.jboss.org/">Switchyard</a></li>
          
            <li><a href="https://tattletale.jboss.org/">Tattletale</a></li>
          
            <li><a href="http://teiid.jboss.org/">Teiid</a></li>
          
            <li><a href="http://wildfly-swarm.io/">WildFly Swarm</a></li>
          
            <li><a href="http://wise.jboss.org/">Wise</a></li>
          
            <li><a href="https://xnio.jboss.org/">XNIO</a></li>
          
        </ul>
      </div>
    
  </div>
</div>
  <div class="content redhat-footer">
  <div class="grid-wrapper">
    <span class="licence">
      <i class="fab fa-creative-commons"></i><i class="fab fa-creative-commons-by"></i> <a href="https://creativecommons.org/licenses/by/3.0/" target="_blank">CC by 3.0</a>
    </span>
    <span class="redhat">
      a Red Hat sponsored project   
    </span>
    <span class="redhat-logo">
      <a href="https://www.redhat.com/"><img src="/wildflysite/assets/img/RHLogo_white.svg"></a>
    </span>
  </div>
</div>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
  <script type="text/javascript" src="/wildflysite/assets/javascript/mobile-nav.js"></script>
  <script type="text/javascript" src="/wildflysite/assets/javascript/random-color-picker.js"></script>
  <script type="text/javascript">
    if (("undefined" !== typeof _satellite) && ("function" === typeof _satellite.pageBottom)) {
        _satellite.pageBottom();
    }
  </script>
</body>

</html>
