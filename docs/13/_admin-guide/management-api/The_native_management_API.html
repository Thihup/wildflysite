<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.5.0 -->
<title>The native management API | Wildfly</title>
<meta name="generator" content="Jekyll v3.8.3" />
<meta property="og:title" content="The native management API" />
<meta property="og:locale" content="en_US" />
<link rel="canonical" href="https://jbossorg.github.io/wildflysite/docs/13/_admin-guide/management-api/The_native_management_API.html" />
<meta property="og:url" content="https://jbossorg.github.io/wildflysite/docs/13/_admin-guide/management-api/The_native_management_API.html" />
<meta property="og:site_name" content="Wildfly" />
<script type="application/ld+json">
{"@type":"WebPage","url":"https://jbossorg.github.io/wildflysite/docs/13/_admin-guide/management-api/The_native_management_API.html","headline":"The native management API","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/wildflysite/assets/main.css"><link type="application/atom+xml" rel="alternate" href="https://jbossorg.github.io/wildflysite/feed.xml" title="Wildfly" /></head>
<body><div class="header navigation">
  <div class="logo-wrapper">
    <a href="/wildflysite/"><img class="wf-logo" src="/wildflysite/assets/img/wildfly_icons_one-color-logo.png"></a>
  </div>
  <div class="nav-container">
    <nav>
      <div class="nav-mobile"><a id="nav-toggle" href="#!"><span></span></a></div>
      <ul class="nav-list">
        <li>
          <a href="/wildflysite/" class="">Home</a>
        </li>
        <li>
          <a href="/wildflysite/downloads/" class="">Downloads</a>
        </li>
        <li>
          <a href="/wildflysite/blog/" class="">Blog</a>
        </li>
        <li>
          <a href="/wildflysite/about/" class="">About</a>
        </li>
        <li>
          <a href="/wildflysite/contribute/" class="">Contribute</a>
        </li>
        <li>
          <a href="/wildflysite/docs/" class="">Docs</a>
        </li>
        <li>
          <a class="button-cta secondary" href="https://github.com/wildfly/wildfly/fork" target="_blank">Fork</a>
        </li>
      </ul>
    </nav>
  </div>
</div>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>A standalone WildFly process, or a managed domain Domain Controller or
slave Host Controller process can be configured to listen for remote
management requests using its "native management interface":</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;native-interface interface="management" port="9999" security-realm="ManagementRealm"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>~(See standalone/configuration/standalone.xml or
domain/configuration/host.xml)~</p>
</div>
<div class="paragraph">
<p>The CLI tool that comes with the application server uses this interface,
and user can develop custom clients that use it as well. In this section
we&#8217;ll cover the basics on how to develop such a client. We&#8217;ll also cover
details on the format of low-level management operation requests and
responses – information that should prove useful for users of the CLI
tool as well.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="native-management-client-dependencies">Native Management Client Dependencies</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The native management interface uses an open protocol based on the JBoss
Remoting library. JBoss Remoting is used to establish a communication
channel from the client to the process being managed. Once the
communication channel is established the primary traffic over the
channel is management requests initiated by the client and asynchronous
responses from the target process.</p>
</div>
<div class="paragraph">
<p>A custom Java-based client should have the maven artifact
<code>org.jboss.as:jboss-as-controller-client</code> and its dependencies on the
classpath. The other dependencies are:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Maven Artifact</th>
<th class="tableblock halign-left valign-top">Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">org.jboss.remoting:jboss-remoting</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Remote communication</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">org.jboss:jboss-dmr</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Detyped representation of the management model</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">org.jboss.as:jboss-as-protocol</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wire protocol for remote WildFly
management</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">org.jboss.sasl:jboss-sasl</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SASL authentication</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">org.jboss.xnio:xnio-api</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Non-blocking IO</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">org.jboss.xnio:xnio-nio</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Non-blocking IO</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">org.jboss.logging:jboss-logging</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Logging</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">org.jboss.threads:jboss-threads</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Thread management</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">org.jboss.marshalling:jboss-marshalling</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Marshalling and unmarshalling
data to/from streams</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The client API is entirely within the
<code>org.jboss.as:jboss-as-controller-client</code> artifact; the other
dependencies are part of the internal implementation of
<code>org.jboss.as:jboss-as-controller-client</code> and are not compile-time
dependencies of any custom client based on it.</p>
</div>
<div class="paragraph">
<p>The management protocol is an open protocol, so a completely custom
client could be developed without using these libraries (e.g. using
Python or some other language.)</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="working-with-a-modelcontrollerclient">Working with a ModelControllerClient</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>org.jboss.as.controller.client.ModelControllerClient</code> class is the
main class a custom client would use to manage a WildFly server instance
or a Domain Controller or slave Host Controller.</p>
</div>
<div class="paragraph">
<p>The custom client must have maven artifact
<code>org.jboss.as:jboss-as-controller-client</code> and its dependencies on the
classpath.</p>
</div>
<div class="sect2">
<h3 id="creating-the-modelcontrollerclient">Creating the ModelControllerClient</h3>
<div class="paragraph">
<p>To create a management client that can connect to your target process&#8217;s
native management socket, simply:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ModelControllerClient client = ModelControllerClient.Factory.create(InetAddress.getByName("localhost"), 9999);</pre>
</div>
</div>
<div class="paragraph">
<p>The address and port are what is configured in the target process'
<code>&lt;management&gt;&lt;management-interfaces&gt;&lt;native-interface&#8230;&#8203;/&gt;</code> element.</p>
</div>
<div class="paragraph">
<p>Typically, however, the native management interface will be secured,
requiring clients to authenticate. On the client side, the custom client
will need to provide the user&#8217;s authentication credentials, obtained in
whatever manner is appropriate for the client (e.g. from a dialog box in
a GUI-based client.) Access to these credentials is provided by passing
in an implementation of the
<code>javax.security.auth.callback.CallbackHandler</code> interface. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">static ModelControllerClient createClient(final InetAddress host, final int port,
                  final String username, final char[] password, final String securityRealmName) {
 
    final CallbackHandler callbackHandler = new CallbackHandler() {
 
        public void handle(Callback[] callbacks) throws IOException, UnsupportedCallbackException {
            for (Callback current : callbacks) {
                if (current instanceof NameCallback) {
                    NameCallback ncb = (NameCallback) current;
                    ncb.setName(username);
                } else if (current instanceof PasswordCallback) {
                    PasswordCallback pcb = (PasswordCallback) current;
                    pcb.setPassword(password.toCharArray());
                } else if (current instanceof RealmCallback) {
                    RealmCallback rcb = (RealmCallback) current;
                    rcb.setText(rcb.getDefaultText());
                } else {
                    throw new UnsupportedCallbackException(current);
                }
            }
        }
    };
 
    return ModelControllerClient.Factory.create(host, port, callbackHandler);
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="creating-an-operation-request-object">Creating an operation request object</h3>
<div class="paragraph">
<p>Management requests are formulated using the <code>org.jboss.dmr.ModelNode</code>
class from the <code>jboss-dmr</code> library. The <code>jboss-dmr</code> library allows the
complete WildFly management model to be expressed using a very small
number of Java types. See
<a href="#Detyped_management_and_the_jboss-dmr_library">Detyped
management and the jboss-dmr library</a> for full details on using this
library.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s show an example of creating an operation request object that can
be used to
<a href="Global_operations.html#src-557234_Globaloperations-read-resource-description">read
the resource description</a> for the web subsystem&#8217;s HTTP connector:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">ModelNode op = new ModelNode();
op.get("operation").set("read-resource-description");
 
ModelNode address = op.get("address");
address.add("subsystem", "web");
address.add("connector", "http");
 
op.get("recursive").set(true);
op.get("operations").set(true);</code></pre>
</div>
</div>
<div class="paragraph">
<p>What we&#8217;ve done here is created a ModelNode of type <code>ModelType.OBJECT</code>
with the following fields:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>operation</code> – the name of the operation to invoke. All operation
requests <strong>must</strong> include this field and its value must be a String.</p>
</li>
<li>
<p><code>address</code> – the address of the resource to invoke the operation
against. This field&#8217;s must be of <code>ModelType.LIST</code> with each element in
the list being a <code>ModelType.PROPERTY</code>. If this field is omitted the
operation will target the root resource. The operation can be targeted
at any address in the management model; here we are targeting it at the
resource for the web subsystem&#8217;s http connector.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In this case, the request includes two optional parameters:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>recursive</code> – true means you want the description of child resources
under this resource. Default is false</p>
</li>
<li>
<p><code>operations</code> – true means you want the description of operations
exposed by the resource to be included. Default is false.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Different operations take different parameters, and some take no
parameters at all.</p>
</div>
<div class="paragraph">
<p>See <a href="#format-of-a-detyped-operation-request">Format of a
Detyped Operation Request</a> for full details on the structure of a
ModelNode that will represent an operation request.</p>
</div>
<div class="paragraph">
<p>The example above produces an operation request ModelNode equivalent to
what the CLI produces internally when it parses and executes the
following low-level CLI command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">[localhost:9999 /] /subsystem=web/connector=http:read-resource-description(recursive=true,operations=true)</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="execute-the-operation-and-manipulate-the-result">Execute the operation and manipulate the result:</h3>
<div class="paragraph">
<p>The <code>execute</code> method sends the operation request ModelNode to the
process being managed and returns a ModelNode the contains the process'
response:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">ModelNode returnVal = client.execute(op);
System.out.println(returnVal.get("result").toString());</code></pre>
</div>
</div>
<div class="paragraph">
<p>See <a href="#format-of-a-detyped-operation-response">Format of a
Detyped Operation Response</a> for general details on the structure of the
"returnVal" ModelNode.</p>
</div>
<div class="paragraph">
<p>The <code>execute</code> operation shown above will block the calling thread until
the response is received from the process being managed.
<code>ModelControllerClient</code> also exposes and API allowing asynchronous
invocation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Future&lt;ModelNode&gt; future = client.executeAsync(op);
. . .  // do other stuff
ModelNode returnVal = future.get();
System.out.println(returnVal.get("result").toString());</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="close-the-modelcontrollerclient">Close the ModelControllerClient</h3>
<div class="paragraph">
<p>A <code>ModelControllerClient</code> can be reused for multiple requests. Creating
a new <code>ModelControllerClient</code> for each request is an anti-pattern.
However, when the <code>ModelControllerClient</code> is no longer needed, it should
always be explicitly closed, allowing it to close down any connections
to the process it was managing and release other resources:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">client.close();</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="format-of-a-detyped-operation-request">Format of a Detyped Operation Request</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The basic method a user of the WildFly {wildflyVersion} programmatic management API
would use is very simple:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">ModelNode execute(ModelNode operation) throws IOException;</code></pre>
</div>
</div>
<div class="paragraph">
<p>where the return value is the detyped representation of the response,
and <code>operation</code> is the detyped representation of the operation being
invoked.</p>
</div>
<div class="paragraph">
<p>The purpose of this section is to document the structure of <code>operation</code>.</p>
</div>
<div class="paragraph">
<p>See <a href="#format-of-a-detyped-operation-response">Format of a
Detyped Operation Response</a> for a discussion of the format of the
response.</p>
</div>
<div class="sect2">
<h3 id="simple-operations">Simple Operations</h3>
<div class="paragraph">
<p>A text representation of simple operation would look like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">{
    "operation" =&gt; "write-attribute",
    "address" =&gt; [
        ("profile" =&gt; "production"),
        ("subsystem" =&gt; "threads"),
        ("bounded-queue-thread-pool" =&gt; "pool1")
    ],
    "name" =&gt; "count",
    "value" =&gt; 20
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Java code to produce that output would be:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">ModelNode op = new ModelNode();
op.get("operation").set("write-attribute");
ModelNode addr = op.get("address");
addr.add("profile", "production");
addr.add("subsystem", "threads");
addr.add("bounded-queue-thread-pool", "pool1");
op.get("name").set("count");
op.get("value").set(20);
System.out.println(op);</code></pre>
</div>
</div>
<div class="paragraph">
<p>The order in which the outermost elements appear in the request is not
relevant. The required elements are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>operation</code> – String – The name of the operation being invoked.</p>
</li>
<li>
<p><code>address</code> – the address of the managed resource against which the
request should be executed. If not set, the address is the root
resource. The address is an ordered list of key-value pairs describing
where the resource resides in the overall management resource tree.
Management resources are organized in a tree, so the order in which
elements in the address occur is important.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The other key/value pairs are parameter names and their values. The
names and values should match what is specified in the
<a href="Description_of_the_Management_Model.html#src-557210_DescriptionoftheManagementModel-operation-description">operation&#8217;s
description</a>.</p>
</div>
<div class="paragraph">
<p>Parameters may have any name, except for the reserved words <code>operation</code>,
<code>address</code> and <code>operation-headers</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="operation-headers">Operation Headers</h3>
<div class="paragraph">
<p>Besides the special operation and address values discussed above,
operation requests can also include special "header" values that help
control how the operation executes. These headers are created under the
special reserved word <code>operation-headers</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">ModelNode op = new ModelNode();
op.get("operation").set("write-attribute");
ModelNode addr = op.get("address");
addr.add("base", "domain");
addr.add("profile", "production");
addr.add("subsystem", "threads");
addr.add("bounded-queue-thread-pool", "pool1");
op.get("name").set("count");
op.get("value").set(20);
op.get("operation-headers", "rollback-on-runtime-failure").set(false);
System.out.println(op);</code></pre>
</div>
</div>
<div class="paragraph">
<p>This produces:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">{
    "operation" =&gt; "write-attribute",
    "address" =&gt; [
        ("profile" =&gt; "production"),
        ("subsystem" =&gt; "threads"),
        ("bounded-queue-thread-pool" =&gt; "pool1")
    ],
    "name" =&gt; "count",
    "value" =&gt; 20,
    "operation-headers" =&gt; {
        "rollback-on-runtime-failure =&gt; false
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following operation headers are supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>rollback-on-runtime-failure</code> – boolean, optional, defaults to true.
Whether an operation that successfully updates the persistent
configuration model should be reverted if it fails to apply to the
runtime. Operations that affect the persistent configuration are applied
in two stages – first to the configuration model and then to the actual
running services. If there is an error applying to the configuration
model the operation will be aborted with no configuration change and no
change to running services will be attempted. However, operations are
allowed to change the configuration model even if there is a failure to
apply the change to the running services – if and only if this
<code>rollback-on-runtime-failure</code> header is set to <code>false</code>. So, this header
only deals with what happens if there is a problem applying an operation
to the running state of a server (e.g. actually increasing the size of a
runtime thread pool.)</p>
</li>
<li>
<p><code>rollout-plan</code> – only relevant to requests made to a Domain Controller
or Host Controller. See "
<a href="#operations-with-a-rollout-plan">Operations with a
Rollout Plan</a>" for details.</p>
</li>
<li>
<p><code>allow-resource-service-restart</code> – boolean, optional, defaults to
false. Whether an operation that requires restarting some runtime
services in order to take effect should do so. See discussion of
<code>resource-services</code> in the
<a href="Description_of_the_Management_Model.html#src-557210_DescriptionoftheManagementModel-applying-runtime-updates">"Applying
Updates to Runtime Services" section of the Description of the
Management Model section</a> for further details.</p>
</li>
<li>
<p><code>roles</code> – String or list of strings. Name(s) of RBAC role(s) the
permissions for which should be used when making access control
decisions instead of those from the roles normally associated with the
user invoking the operation. Only respected if the user is normally
associated with a role with all permissions (i.e. SuperUser), meaning
this can only be used to reduce permissions for a caller, not to
increase permissions.</p>
</li>
<li>
<p><code>blocking-timeout</code> – int, optional, defaults to 300. Maximum time, in
seconds, that the operation should block at various points waiting for
completion. If this period is exceeded, the operation will roll back.
Does not represent an overall maximum execution time for an operation;
rather it is meant to serve as a sort of fail-safe measure to prevent
problematic operations indefinitely tying up resources.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="composite-operations">Composite Operations</h3>
<div class="paragraph">
<p>The root resource for a Domain or Host Controller or an individual
server will expose an operation named " `composite`". This operation
executes a list of other operations as an atomic unit (although the
atomicity requirement can be
<a href="#composite-operations">relaxed</a>.
The structure of the request for the " `composite`" operation has the
same fundamental structure as a simple operation (i.e. operation name,
address, params as key value pairs).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">{
    "operation" =&gt; "composite",
    "address" =&gt; [],
    "steps" =&gt; [
         {
              "operation" =&gt; "write-attribute",
              "address" =&gt; [
                   ("profile" =&gt; "production"),
                   ("subsystem" =&gt; "threads"),
                   ("bounded-queue-thread-pool" =&gt; "pool1")
              ],
              "count" =&gt; "count",
              "value" =&gt; 20
         },
         {
              "operation" =&gt; "write-attribute",
              "address" =&gt; [
                   ("profile" =&gt; "production"),
                   ("subsystem" =&gt; "threads"),
                   ("bounded-queue-thread-pool" =&gt; "pool2")
              ],
              "name" =&gt; "count",
              "value" =&gt; 10
         }
    ],
    "operation-headers" =&gt; {
        "rollback-on-runtime-failure =&gt; false
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The "composite" operation takes a single parameter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>steps</code> – a list, where each item in the list has the same structure
as a simple operation request. In the example above each of the two
steps is modifying the thread pool configuration for a different pool.
There need not be any particular relationship between the steps. Note
that the <code>rollback-on-runtime-failure</code> and <code>rollout-plan</code> operation
headers are not supported for the individual steps in a composite
operation.</p>
<div class="literalblock">
<div class="content">
<pre> +
The `rollback-on-runtime-failure` operation header discussed above has a
particular meaning when applied to a composite operation, controlling
whether steps that successfully execute should be reverted if other
steps fail at runtime. Note that if any steps modify the persistent
configuration, and any of those steps fail, all steps will be reverted.
Partial/incomplete changes to the persistent configuration are not
allowed.</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="operations-with-a-rollout-plan">Operations with a Rollout Plan</h3>
<div class="paragraph">
<p>Operations targeted at domain or host level resources can potentially
impact multiple servers. Such operations can include a "rollout plan"
detailing the sequence in which the operation should be applied to
servers as well as policies for detailing whether the operation should
be reverted if it fails to execute successfully on some servers.</p>
</div>
<div class="paragraph">
<p>If the operation includes a rollout plan, the structure is as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">{
    "operation" =&gt; "write-attribute",
    "address" =&gt; [
        ("profile" =&gt; "production"),
        ("subsystem" =&gt; "threads"),
        ("bounded-queue-thread-pool" =&gt; "pool1")
    ],
    "name" =&gt; "count",
    "value" =&gt; 20,
    "operation-headers" =&gt; {
        "rollout-plan" =&gt; {
            "in-series" =&gt; [
                {
                    "concurrent-groups" =&gt; {
                        "groupA" =&gt; {
                            "rolling-to-servers" =&gt; true,
                            "max-failure-percentage" =&gt; 20
                        },
                        "groupB" =&gt; undefined
                    }
                },
                {
                   "server-group" =&gt; {
                        "groupC" =&gt; {
                            "rolling-to-servers" =&gt; false,
                            "max-failed-servers" =&gt; 1
                        }
                    }
                },
                {
                    "concurrent-groups" =&gt; {
                        "groupD" =&gt; {
                            "rolling-to-servers" =&gt; true,
                            "max-failure-percentage" =&gt; 20
                        },
                        "groupE" =&gt; undefined
                    }
                }
            ],
            "rollback-across-groups" =&gt; true
        }
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can see, the rollout plan is another structure in the
operation-headers section. The root node of the structure allows two
children:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>in-series</code> – a list – A list of activities that are to be performed
in series, with each activity reaching completion before the next step
is executed. Each activity involves the application of the operation to
the servers in one or more server groups. See below for details on each
element in the list.</p>
</li>
<li>
<p><code>rollback-across-groups</code> – boolean – indicates whether the need to
rollback the operation on all the servers in one server group should
trigger a rollback across all the server groups. This is an optional
setting, and defaults to <code>false</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Each element in the list under the <code>in-series</code> node must have one or the
other of the following structures:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>concurrent-groups</code> – a map of server group names to policies
controlling how the operation should be applied to that server group.
For each server group in the map, the operation may be applied
concurrently. See below for details on the per-server-group policy
configuration.</p>
</li>
<li>
<p><code>server-group</code> – a single key/value mapping of a server group name to
a policy controlling how the operation should be applied to that server
group. See below for details on the policy configuration. (Note: there
is no difference in plan execution between this and a "
`concurrent-groups`" map with a single entry.)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The policy controlling how the operation is applied to the servers
within a server group has the following elements, each of which is
optional:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>rolling-to-servers</code> – boolean – If true, the operation will be
applied to each server in the group in series. If false or not
specified, the operation will be applied to the servers in the group
concurrently.</p>
</li>
<li>
<p><code>max-failed-servers</code> – int – Maximum number of servers in the group
that can fail to apply the operation before it should be reverted on all
servers in the group. The default value if not specified is zero; i.e.
failure on any server triggers rollback across the group.</p>
</li>
<li>
<p><code>max-failure-percentage</code> – int between 0 and 100 – Maximum percentage
of the total number of servers in the group that can fail to apply the
operation before it should be reverted on all servers in the group. The
default value if not specified is zero; i.e. failure on any server
triggers rollback across the group.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If both <code>max-failed-servers</code> and <code>max-failure-percentage</code> are set,
<code>max-failure-percentage</code> takes precedence.</p>
</div>
<div class="paragraph">
<p>Looking at the (contrived) example above, application of the operation
to the servers in the domain would be done in 3 phases. If the policy
for any server group triggers a rollback of the operation across the
server group, all other server groups will be rolled back as well. The 3
phases are:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Server groups groupA and groupB will have the operation applied
concurrently. The operation will be applied to the servers in groupA in
series, while all servers in groupB will handle the operation
concurrently. If more than 20% of the servers in groupA fail to apply
the operation, it will be rolled back across that group. If any servers
in groupB fail to apply the operation it will be rolled back across that
group.</p>
</li>
<li>
<p>Once all servers in groupA and groupB are complete, the operation
will be applied to the servers in groupC. Those servers will handle the
operation concurrently. If more than one server in groupC fails to apply
the operation it will be rolled back across that group.</p>
</li>
<li>
<p>Once all servers in groupC are complete, server groups groupD and
groupE will have the operation applied concurrently. The operation will
be applied to the servers in groupD in series, while all servers in
groupE will handle the operation concurrently. If more than 20% of the
servers in groupD fail to apply the operation, it will be rolled back
across that group. If any servers in groupE fail to apply the operation
it will be rolled back across that group.</p>
</li>
</ol>
</div>
<div class="sect3">
<h4 id="default-rollout-plan">Default Rollout Plan</h4>
<div class="paragraph">
<p>All operations that impact multiple servers will be executed with a
rollout plan. However, actually specifying the rollout plan in the
operation request is not required. If no <code>rollout-plan</code> operation header
is specified, a default plan will be generated. The plan will have the
following characteristics:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>There will only be a single high level phase. All server groups
affected by the operation will have the operation applied concurrently.</p>
</li>
<li>
<p>Within each server group, the operation will be applied to all servers
concurrently.</p>
</li>
<li>
<p>Failure on any server in a server group will cause rollback across the
group.</p>
</li>
<li>
<p>Failure of any server group will result in rollback of all other
server groups.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="creating-and-reusing-a-rollout-plan">Creating and reusing a Rollout Plan</h4>
<div class="paragraph">
<p>Since a rollout plan may be quite complex, having to pass it as a header
every time can become quickly painful. So instead we can store it in the
model and then reference it when we want to use it.<br>
To create a rollout plan you can use the operation <code>rollout-plan add</code>
like this :</p>
</div>
<div class="listingblock">
<div class="content">
<pre>rollout-plan add --name=simple --content={"rollout-plan" =&gt; {"in-series" =&gt; [{"server-group" =&gt; {"main-server-group" =&gt; {"rolling-to-servers" =&gt; false,"max-failed-servers" =&gt; 1}}}, {"server-group" =&gt; {"other-server-group" =&gt; {"rolling-to-servers" =&gt; true,"max-failure-percentage" =&gt; 20}}}],"rollback-across-groups" =&gt; true}}</pre>
</div>
</div>
<div class="paragraph">
<p>This will create a rollout plan called <code>simple</code> in the content
repository.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">[domain@192.168.1.20:9999 /] /management-client-content=rollout-plans/rollout-plan=simple:read-resource
{
    "outcome" =&gt; "success",
    "result" =&gt; {
        "content" =&gt; {"rollout-plan" =&gt; {
            "in-series" =&gt; [
                {"server-group" =&gt; {"main-server-group" =&gt; {
                    "rolling-to-servers" =&gt; false,
                    "max-failed-servers" =&gt; 1
                }}},
                {"server-group" =&gt; {"other-server-group" =&gt; {
                    "rolling-to-servers" =&gt; true,
                    "max-failure-percentage" =&gt; 20
                }}}
            ],
            "rollback-across-groups" =&gt; true
        }},
        "hash" =&gt; bytes {
            0x13, 0x12, 0x76, 0x65, 0x8a, 0x28, 0xb8, 0xbc,
            0x34, 0x3c, 0xe9, 0xe6, 0x9f, 0x24, 0x05, 0xd2,
            0x30, 0xff, 0xa4, 0x34
        }
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now you may reference the roolout plan in your command by adding a
header just like this :</p>
</div>
<div class="listingblock">
<div class="content">
<pre>deploy /quickstart/ejb-in-war/target/wildfly-ejb-in-war.war --all-server-groups --headers={rollout name=simple}</pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="format-of-a-detyped-operation-response">Format of a Detyped Operation Response</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As noted previously, the basic method a user of the WildFly {wildflyVersion}
programmatic management API would use is very simple:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">ModelNode execute(ModelNode operation) throws IOException;</code></pre>
</div>
</div>
<div class="paragraph">
<p>where the return value is the detyped representation of the response,
and <code>operation</code> is the detyped representation of the operating being
invoked.</p>
</div>
<div class="paragraph">
<p>The purpose of this section is to document the structure of the return
value.</p>
</div>
<div class="paragraph">
<p>For the format of the request, see
<a href="#format-of-a-detyped-operation-request">Format of a
Detyped Operation Request</a>.</p>
</div>
<div class="sect2">
<h3 id="simple-responses">Simple Responses</h3>
<div class="paragraph">
<p>Simple responses are provided by the following types of operations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Non-composite operations that target a single server. (See below for
more on composite operations).</p>
</li>
<li>
<p>Non-composite operations that target a Domain Controller or slave Host
Controller and don&#8217;t require the responder to apply the operation on
multiple servers and aggregate their results (e.g. a simple read of a
domain configuration property.)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The response will always include a simple boolean outcome field, with
one of three possible values:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>success</code> – the operation executed successfully</p>
</li>
<li>
<p><code>failed</code> – the operation failed</p>
</li>
<li>
<p><code>cancelled</code> – the execution of the operation was cancelled. (This
would be an unusual outcome for a simple operation which would generally
very rapidly reach a point in its execution where it couldn&#8217;t be
cancelled.)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The other fields in the response will depend on whether the operation
was successful.</p>
</div>
<div class="paragraph">
<p>The response for a failed operation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">{
    "outcome" =&gt; "failed",
    "failure-description" =&gt; "[JBAS-12345] Some failure message"
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>A response for a successful operation will include an additional field:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>result</code> – the return value, or <code>undefined</code> for void operations or
those that return null</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A non-void result:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">{
    "outcome" =&gt; "success",
    "result" =&gt; {
        "name" =&gt; "Brian",
        "age" =&gt; 22
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>A void result:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">{
    "outcome" =&gt; "success",
    "result" =&gt; undefined
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The response for a cancelled operation has no other fields:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">{
    "outcome" =&gt; "cancelled"
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="response-headers">Response Headers</h3>
<div class="paragraph">
<p>Besides the standard <code>outcome</code>, <code>result</code> and <code>failure-description</code>
fields described above, the response may also include various headers
that provide more information about the affect of the operation or about
the overall state of the server. The headers will be child element under
a field named <code>response-headers</code>. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">{
    "outcome" =&gt; "success",
    "result" =&gt; undefined,
    "response-headers" =&gt; {
        "operation-requires-reload" =&gt; true,
        "process-state" =&gt; "reload-required"
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>A response header is typically related to whether an operation could be
applied to the targeted runtime without requiring a restart of some or
all services, or even of the target process itself. Please see the
<a href="Description_of_the_Management_Model.html#src-557210_DescriptionoftheManagementModel-applying-runtime-updates">"Applying
Updates to Runtime Services" section of the Description of the
Management Model section</a> for a discussion of the basic concepts related
to what happens if an operation requires a service restart to be
applied.</p>
</div>
<div class="paragraph">
<p>The current possible response headers are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>operation-requires-reload</code> – boolean – indicates that the specific
operation that has generated this response requires a restart of all
services in the process in order to take effect in the runtime. This
would typically only have a value of 'true'; the absence of the header
is the same as a value of 'false.'</p>
</li>
<li>
<p><code>operation-requires-restart</code> – boolean – indicates that the specific
operation that has generated this response requires a full process
restart in order to take effect in the runtime. This would typically
only have a value of 'true'; the absence of the header is the same as a
value of 'false.'</p>
</li>
<li>
<p><code>process-state</code> – enumeration – Provides information about the overall
state of the target process. One of the following values:</p>
<div class="ulist">
<ul>
<li>
<p><code>starting</code> – the process is starting</p>
</li>
<li>
<p><code>running</code> – the process is in a normal running state. The
<code>process-state</code> header would typically not be seen with this value; the
absence of the header is the same as a value of 'running'.</p>
</li>
<li>
<p><code>reload-required</code> – some operation (not necessarily this one) has
executed that requires a restart of all services in order for a
configuration change to take effect in the runtime.</p>
</li>
<li>
<p><code>restart-required</code> – some operation (not necessarily this one) has
executed that requires a full process restart in order for a
configuration change to take effect in the runtime.</p>
</li>
<li>
<p><code>stopping</code> – the process is stopping</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="basic-composite-operation-responses">Basic Composite Operation Responses</h3>
<div class="paragraph">
<p>A composite operation is one that incorporates more than one simple
operation in a list and executes them atomically. See the
<a href="#composite-operations">"Composite
Operations" section</a> for more information.</p>
</div>
<div class="paragraph">
<p>Basic composite responses are provided by the following types of
operations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Composite operations that target a single server.</p>
</li>
<li>
<p>Composite operations that target a Domain Controller or a slave Host
Controller and don&#8217;t require the responder to apply the operation on
multiple servers and aggregate their results (e.g. a list of simple
reads of domain configuration properties.)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The high level format of a basic composite operation response is largely
the same as that of a simple operation response, although there is an
important semantic difference. For a composite operation, the meaning of
the outcome flag is controlled by the value of the operation request&#8217;s
<code>rollback-on-runtime-failure</code> header field. If that field was <code>false</code>
(default is true), the outcome flag will be success if all steps were
successfully applied to the persistent configuration even if <strong>none</strong> of
the composite operation&#8217;s steps was successfully applied to the runtime.</p>
</div>
<div class="paragraph">
<p>What&#8217;s distinctive about a composite operation response is the <code>result</code>
field. First, even if the operation was not successful, the <code>result</code>
field will usually be present. (It won&#8217;t be present if there was some
sort of immediate failure that prevented the responder from even
attempting to execute the individual operations.) Second, the content of
the <code>result</code> field will be a map. Each entry in the map will record the
result of an element in the <code>steps</code> parameter of the composite operation
request. The key for each item in the map will be the string " <code>step-X`"
where "X" is the 1-based index of the step&#8217;s position in the request&#8217;s
`steps</code> list. So each individual operation in the composite operation
will have its result recorded.</p>
</div>
<div class="paragraph">
<p>The individual operation results will have the same basic format as the
simple operation results described above. However, there are some
differences from the simple operation case when the individual
operation&#8217;s <code>outcome</code> flag is <code>failed</code>. These relate to the fact that in
a composite operation, individual operations can be rolled back or not
even attempted.</p>
</div>
<div class="paragraph">
<p>If an individual operation was not even attempted (because the overall
operation was cancelled or, more likely, a prior operation failed):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">{
    "outcome" =&gt; "cancelled"
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>An individual operation that failed and was rolled back:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">{
    "outcome" =&gt; "failed",
    "failure-description" =&gt; "[JBAS-12345] Some failure message",
    "rolled-back" =&gt; true
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>An individual operation that itself succeeded but was rolled back due to
failure of another operation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">{
    "outcome" =&gt; "failed",
    "result" =&gt; {
        "name" =&gt; "Brian",
        "age" =&gt; 22
    },
    "rolled-back" =&gt; true
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>An operation that failed and was rolled back:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">{
    "outcome" =&gt; "failed",
    "failure-description" =&gt; "[JBAS-12345] Some failure message",
    "rolled-back" =&gt; true
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here&#8217;s an example of the response for a successful 2 step composite
operation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">{
    "outcome" =&gt; "success",
    "result" =&gt; [
        {
            "outcome" =&gt; "success",
            "result" =&gt; {
                "name" =&gt; "Brian",
                "age" =&gt; 22
            }
        },
        {
            "outcome" =&gt; "success",
            "result" =&gt; undefined
        }
    ]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>And for a failed 3 step composite operation, where the first step
succeeded and the second failed, triggering cancellation of the 3rd and
rollback of the others:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">{
    "outcome" =&gt; "failed",
    "failure-description" =&gt; "[JBAS-99999] Composite operation failed; see individual operation results for details",
    "result" =&gt; [
        {
            "outcome" =&gt; "failed",
            "result" =&gt; {
                "name" =&gt; "Brian",
                "age" =&gt; 22
            },
            "rolled-back" =&gt; true
        },
        {
            "outcome" =&gt; "failed",
            "failure-description" =&gt; "[JBAS-12345] Some failure message",
            "rolled-back" =&gt; true
        },
        {
            "outcome" =&gt; "cancelled"
        }
    ]
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="multi-server-responses">Multi-Server Responses</h3>
<div class="paragraph">
<p>Multi-server responses are provided by operations that target a Domain
Controller or slave Host Controller and require the responder to apply
the operation on multiple servers and aggregate their results (e.g.
nearly all domain or host configuration updates.)</p>
</div>
<div class="paragraph">
<p>Multi-server operations are executed in several stages.</p>
</div>
<div class="paragraph">
<p>First, the operation may need to be applied against the authoritative
configuration model maintained by the Domain Controller (for
<code>domain.xml</code> confgurations) or a Host Controller (for a <code>host.xml</code>
configuration). If there is a failure at this stage, the operation is
automatically rolled back, with a response like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">{
    "outcome" =&gt; "failed",
    "failure-description" =&gt; {
        "domain-failure-description" =&gt; "[JBAS-33333] Failed to apply X to the domain model"
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>If the operation was addressed to the domain model, in the next stage
the Domain Controller will ask each slave Host Controller to apply it to
its local copy of the domain model. If any Host Controller fails to do
so, the Domain Controller will tell all Host Controllers to revert the
change, and it will revert the change locally as well. The response to
the client will look like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">{
    "outcome" =&gt; "failed",
    "failure-description" =&gt; {
        "host-failure-descriptions" =&gt; {
            "hostA" =&gt; "[DOM-3333] Failed to apply to the domain model",
            "hostB" =&gt; "[DOM-3333] Failed to apply to the domain model"
        }
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>If the preceding stages succeed, the operation will be pushed to all
affected servers. If the operation is successful on all servers, the
response will look like this (this example operation has a void
response, hence the result for each server is undefined):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">{
    "outcome" =&gt; "success",
    "result" =&gt; undefined,
    "server-groups" =&gt; {
        "groupA" =&gt; {
            "serverA-1" =&gt; {
                "host" =&gt; "host1",
                "response" =&gt; {
                    "outcome" =&gt; "success",
                    "result" =&gt; undefined
                }
            },
            "serverA-2" =&gt; {
                "host" =&gt; "host2",
                "response" =&gt; {
                    "outcome" =&gt; "success",
                    "result" =&gt; undefined
                }
            }
        },
        "groupB" =&gt; {
            "serverB-1" =&gt; {
                "host" =&gt; "host1",
                "response" =&gt; {
                    "outcome" =&gt; "success",
                    "result" =&gt; undefined
                }
            },
            "serverB-2" =&gt; {
                "host" =&gt; "host2",
                "response" =&gt; {
                    "outcome" =&gt; "success",
                    "result" =&gt; undefined
                }
            }
        }
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The operation need not succeed on all servers in order to get an
<code>"outcome" &#8658; "success"</code> result. All that is required is that it succeed
on at least one server without the rollback policies in the rollout plan
triggering a rollback on that server. An example response in such a
situation would look like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">{
    "outcome" =&gt; "success",
    "result" =&gt; undefined,
    "server-groups" =&gt; {
        "groupA" =&gt; {
            "serverA-1" =&gt; {
                "host" =&gt; "host1",
                "response" =&gt; {
                    "outcome" =&gt; "success",
                    "result" =&gt; undefined
                }
            },
            "serverA-2" =&gt; {
                "host" =&gt; "host2",
                "response" =&gt; {
                    "outcome" =&gt; "success",
                    "result" =&gt; undefined
                }
            }
        },
        "groupB" =&gt; {
            "serverB-1" =&gt; {
                "host" =&gt; "host1",
                "response" =&gt; {
                    "outcome" =&gt; "success",
                    "result" =&gt; undefined,
                    "rolled-back" =&gt; true
                }
            },
            "serverB-2" =&gt; {
                "host" =&gt; "host2",
                "response" =&gt; {
                    "outcome" =&gt; "success",
                    "result" =&gt; undefined,
                    "rolled-back" =&gt; true
                }
            },
            "serverB-3" =&gt; {
                "host" =&gt; "host3",
                "response" =&gt; {
                    "outcome" =&gt; "failed",
                    "failure-description" =&gt; "[DOM-4556] Something didn't work right",
                    "rolled-back" =&gt; true
                }
            }
        }
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Finally, if the operation fails or is rolled back on all servers, an
example response would look like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ruby" data-lang="ruby">{
    "outcome" =&gt; "failed",
    "server-groups" =&gt; {
        "groupA" =&gt; {
            "serverA-1" =&gt; {
                "host" =&gt; "host1",
                "response" =&gt; {
                    "outcome" =&gt; "success",
                    "result" =&gt; undefined
                }
            },
            "serverA-2" =&gt; {
                "host" =&gt; "host2",
                "response" =&gt; {
                    "outcome" =&gt; "success",
                    "result" =&gt; undefined
                }
            }
        },
        "groupB" =&gt; {
            "serverB-1" =&gt; {
                "host" =&gt; "host1",
                "response" =&gt; {
                    "outcome" =&gt; "failed",
                    "result" =&gt; undefined,
                    "rolled-back" =&gt; true
                }
            },
            "serverB-2" =&gt; {
                "host" =&gt; "host2",
                "response" =&gt; {
                    "outcome" =&gt; "failed",
                    "result" =&gt; undefined,
                    "rolled-back" =&gt; true
                }
            },
            "serverB-3" =&gt; {
                "host" =&gt; "host3",
                "response" =&gt; {
                    "outcome" =&gt; "failed",
                    "failure-description" =&gt; "[DOM-4556] Something didn't work right",
                    "rolled-back" =&gt; true
                }
            }
        }
    }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/wildflysite/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Wildfly</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Wildfly</li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/wildfly"><svg class="svg-icon"><use xlink:href="/wildflysite/assets/minima-social-icons.svg#github"></use></svg> <span class="username">wildfly</span></a></li><li><a href="https://www.twitter.com/WildFlyAS"><svg class="svg-icon"><use xlink:href="/wildflysite/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">WildFlyAS</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p></p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
